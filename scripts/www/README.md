# 车易 CarEase

让东盟二手车交易变简单

ASEAN Used Car Market Analysis System

## 功能特性

### 🌏 多Agent国家支持
- 支持 **中国 + 东盟10国** 共11个国家/地区
- **多Agent架构** - 根据选择的国家自动切换Agent
- 每个Agent有独立的配置、功能和数据源
- 自动切换货币符号、汇率和时区

| 国家/地区 | 货币 | 代码 | Agent类型 |
|-----------|------|------|-----------|
| 🇨🇳 中国 | CNY | CN | **China Agent** |
| 🇸🇬 新加坡 | SGD | SG | ASEAN Agent |
| 🇲🇾 马来西亚 | MYR | MY | ASEAN Agent |
| 🇹🇭 泰国 | THB | TH | ASEAN Agent |
| 🇮🇩 印尼 | IDR | ID | ASEAN Agent |
| 🇻🇳 越南 | VND | VN | ASEAN Agent |
| 🇵🇭 菲律宾 | PHP | PH | ASEAN Agent |
| 🇲🇲 缅甸 | MMK | MM | ASEAN Agent |
| 🇰🇭 柬埔寨 | KHR | KH | ASEAN Agent |
| 🇱🇦 老挝 | LAK | LA | ASEAN Agent |
| 🇧🇳 文莱 | BND | BN | ASEAN Agent |

### 🤖 多Agent架构 (Multi-Agent System)

#### China Agent 特性
- ✅ 优先显示人民币(CNY)
- ✅ 突出显示国产品牌数据
- ✅ 支持车牌号查询
- ✅ 支持VIN码查询
- ✅ 显示中国主要城市数据（北京、上海、广州等10个城市）
- ✅ 中国红主题配色

#### ASEAN Agent 特性
- ✅ 本地货币优先显示
- ✅ 东盟市场数据
- ✅ 显示进口税信息
- ✅ 支持VIN码查询
- ✅ 东盟主要城市数据
- ✅ 蓝色主题配色

#### Agent管理功能
- 自动Agent检测与切换
- Agent专属UI主题
- Agent功能开关控制
- Agent本地化时间显示

### 📊 市场分析看板
- 价格趋势图表（12个月）
- 品牌市场份额分布
- 车龄分布统计
- 价格区间分布
- 热门车型排行

### 🔍 单车分析
- 车辆信息录入
- 多维度评分系统
- 雷达图可视化
- 残值预测曲线
- 智能购买建议

### 🔎 车型查询 (PowerBI 风格)
- **智能搜索** - 支持品牌、车型、年份搜索
- **PowerBI 风格仪表盘** - KPI 卡片、图表、数据看板
- **历史价格走势** - 6个月/1年/2年价格趋势
- **区域价格对比** - 全国主要城市价格分布
- **竞品对比分析** - 同级别车型价格和保值率对比
- **里程-价格分布** - 散点图展示车源分布
- **残值预测** - 未来5年价值预测曲线
- **在售车源列表** - 全国经销商实时报价

支持查询的车型：迈腾、凯美瑞、宝马3系、卡罗拉、CR-V

### 🧮 车辆评估计算器 (右下角悬浮窗)
- **悬浮小窗设计** - 固定在右下角，随时可用
- **一键展开/收起** - 点击悬浮按钮或关闭按钮
- **折叠式界面** - 基础信息、使用情况、调整系数可折叠
- **重置成本法计算** - 完整的二手车评估算法
- **8项调整系数** - 车况、保养、品牌、用途、环境、配置、电池、三电
- **实时汇率转换** - 自动转换当地货币到人民币
- **保存评估记录** - 一键保存到数据库

### 💾 本地数据存储
- 自动保存到 localStorage
- 支持数据导出备份
- 历史记录管理

## 技术栈

- **前端框架**: 原生 HTML5 + Tailwind CSS
- **图表库**: Chart.js
- **图标库**: Lucide Icons
- **存储**: localStorage / IndexedDB
- **架构模式**: Multi-Agent Architecture (多Agent架构)
- **响应式设计**: 支持桌面端、平板、手机

## 响应式适配

### 支持的设备
- **桌面端** (> 1024px) - 完整功能，侧边导航
- **平板** (768px - 1024px) - 自适应布局，优化触摸
- **手机** (< 768px) - 底部导航栏，简化UI
- **小屏手机** (< 480px) - 极简界面，图标导航

### 移动端特性
- **底部导航栏** - 类似原生App的标签切换
- **触摸优化** - 44px最小触摸目标，触摸反馈动画
- **图表自适应** - 根据屏幕尺寸自动调整图表大小和图例
- **横屏支持** - 自动隐藏底部导航栏，最大化内容区域
- **安全区域适配** - 适配iPhone刘海屏、圆角屏
- **性能优化** - 防抖resize事件，避免频繁重绘

### 触摸交互优化
- 双击缩放阻止
- 触摸反馈动画（按压效果）
- 平滑滚动
- 图表手势支持（缩放、滑动）

## 多Agent技术实现

### Agent配置系统
```javascript
AGENT_CONFIG = {
    china: {
        features: {
            showCNYFirst: true,
            enablePlateQuery: true,
            enableVINQuery: true,
            // ...
        },
        ui: {
            primaryColor: '#ef4444',  // 中国红
            cities: ['北京', '上海', ...]
        }
    },
    asean: {
        // ASEAN Agent配置
    }
}
```

### Agent管理器
- `AgentManager.init(type)` - 初始化Agent
- `AgentManager.switchAgentByCountry(code)` - 根据国家切换Agent
- `AgentManager.applyTheme()` - 应用Agent主题

### 国家配置扩展
每个国家配置现在包含：
- `timezone` - 时区信息
- `locale` - 本地化设置
- `agent` - 所属Agent类型

## 使用说明

### 本地开发

直接在浏览器中打开 `index.html` 文件即可。

```bash
# 启动本地服务器（可选）
python -m http.server 8080
# 或
npx serve .
```

### PakePlus 打包

1. 打开 PakePlus 软件
2. 选择 "新建项目"
3. 填入项目信息：
   - **项目名称**: `carease`
   - **项目地址**: 选择本项目文件夹
   - **入口文件**: `index.html`
4. 配置打包选项：
   - **窗口宽度**: 1200
   - **窗口高度**: 800
   - **最小宽度**: 800
   - **最小高度**: 600
5. 点击"开始打包"
6. 下载打包好的应用

### 打包配置建议

```json
{
  "name": "carease",
  "title": "车易 CarEase",
  "width": 1200,
  "height": 800,
  "minWidth": 800,
  "minHeight": 600,
  "resizable": true,
  "fullscreen": false
}
```

## 项目结构

```
carease/
├── index.html          # 主应用文件（单页应用）
└── README.md           # 项目说明
```

## 数据来源

本项目使用模拟数据展示功能。市场数据包括：
- 价格趋势（模拟12个月数据）
- 品牌份额（基于典型市场分布）
- 车龄分布（行业标准分布）

汇率数据为固定值，可在代码中修改：

```javascript
const ASEAN_COUNTRIES = [
    { code: 'SG', name: '新加坡', currency: 'SGD', rate: 5.35 },
    // ...
];
```

## 浏览器兼容性

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 更新日志

### v1.4.0 (2026-02-28)
- **移动端全面适配** - 支持手机、平板、桌面端
- 底部导航栏（类似原生App体验）
- 响应式图表自动调整
- 触摸优化（44px触摸目标、触摸反馈）
- 横竖屏自动适配
- iPhone安全区域适配
- 性能优化（防抖resize、懒加载）

### v1.3.0 (2026-02-28)
- **新增中国支持** - 扩展到中国+东盟共11个国家/地区
- **多Agent架构** - 实现China Agent和ASEAN Agent双Agent系统
- Agent自动检测与切换
- Agent专属功能配置（车牌查询、VIN查询、城市数据等）
- Agent主题色自动切换（中国红/东盟蓝）
- 多时区支持 - 根据选择国家显示当地时间
- 多语言Locale支持基础

### v1.2.0 (2026-02-28)
- 品牌升级为 "车易 CarEase"
- 新增品牌车型价格分析模块
- 支持10个品牌50+车型数据
- 车型对比功能（最多3款）
- 新增车型查询功能 (PowerBI 风格)
- 支持迈腾、凯美瑞、宝马3系等热门车型查询
- 历史价格走势、区域对比、竞品分析
- 在售车源列表

### v1.0.0 (2026-02-28)
- 初始版本发布
- 支持东盟10国
- 市场分析看板
- 单车分析功能
- 车辆评估计算器

## 注意事项

1. 汇率数据为固定值，非实时汇率
2. 市场数据为模拟数据，仅供演示
3. 建议使用最新版 Chrome 或 Edge 浏览器
4. 打包前确保网络畅通以加载 CDN 资源

## License

MIT License
