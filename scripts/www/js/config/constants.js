/**
 * 二手车AI智能客服系统 - 常量配置
 */

// 意图类型定义
export const INTENTS = {
    VALUATION: 'valuation',      // 车辆估价
    QUERY: 'query',              // 信息查询
    COMPARE: 'compare',          // 车型比较
    RECOMMEND: 'recommend',      // 购车建议
    PROCESS: 'process',          // 交易流程
    POLICY: 'policy',            // 政策解读
    GREETING: 'greeting',        // 问候
    GOODBYE: 'goodbye',          // 结束对话
    UNKNOWN: 'unknown'           // 未知意图
};

// 意图描述
export const INTENT_DESCRIPTIONS = {
    [INTENTS.VALUATION]: '车辆估价',
    [INTENTS.QUERY]: '信息查询',
    [INTENTS.COMPARE]: '车型对比',
    [INTENTS.RECOMMEND]: '购车建议',
    [INTENTS.PROCESS]: '交易流程',
    [INTENTS.POLICY]: '政策解读',
    [INTENTS.GREETING]: '问候',
    [INTENTS.GOODBYE]: '结束对话',
    [INTENTS.UNKNOWN]: '未知意图'
};

// 意图关键词映射
export const INTENT_KEYWORDS = {
    [INTENTS.VALUATION]: [
        '多少钱', '价格', '估价', '估值', '值多少', '卖多少', '买多少',
        '报价', '价位', '行情', '市场价', '二手价', '残值',
        '评估', '估算', '大概多少', '什么价'
    ],
    [INTENTS.QUERY]: [
        '怎么样', '如何', '怎么', '什么', '哪些', '吗', '是不是', '有没有',
        '查询', '查看', '了解', '咨询', '问问', '想知道',
        '车况', '配置', '参数', '油耗', '续航', '里程', '判断', '识别', '辨别'
    ],
    [INTENTS.COMPARE]: [
        '对比', '比较', '区别', '差异', '哪个好', '哪个更好',
        'vs', 'versus', '和', '跟', '与', '还是',
        '选哪个', '推荐哪个', '哪个值得'
    ],
    [INTENTS.RECOMMEND]: [
        '推荐', '建议', '应该', '适合', '值得', '不错',
        '想买', '打算买', '准备买', '考虑', '纠结',
        '新手', '第一次', '家用', '代步'
    ],
    [INTENTS.PROCESS]: [
        '流程', '手续', '怎么办', '怎么做', '需要什么',
        '过户', '上牌', '保险', '贷款', '分期', '按揭',
        '准备什么', '带什么', '注意什么', '坑', '陷阱'
    ],
    [INTENTS.POLICY]: [
        '政策', '规定', '限制', '要求', '标准',
        '排放', '国六', '新能源', '补贴', '免税',
        '限行', '限购', '摇号', '指标', '额度'
    ],
    [INTENTS.GREETING]: [
        '你好', '您好', '嗨', 'hello', 'hi', '在吗',
        '有人吗', '在不在', '早上好', '下午好', '晚上好'
    ],
    [INTENTS.GOODBYE]: [
        '再见', '拜拜', 'bye', 'goodbye', '谢谢', '感谢',
        '先这样', '没事了', '就这样', '下次', '回头'
    ]
};

// 实体类型定义
export const ENTITIES = {
    BRAND: 'brand',              // 品牌
    MODEL: 'model',              // 车型
    YEAR: 'year',                // 年份
    MILEAGE: 'mileage',          // 里程
    PRICE: 'price',              // 价格
    LOCATION: 'location',        // 地区
    CONDITION: 'condition'       // 车况
};

// 汽车品牌词典
export const CAR_BRANDS = [
    '奥迪', '宝马', '奔驰', '保时捷', '大众', '丰田', '本田', '日产', '马自达', '雷克萨斯',
    '特斯拉', '比亚迪', '蔚来', '小鹏', '理想', '极氪', '问界', '埃安', '哪吒', '零跑',
    '福特', '雪佛兰', '别克', '凯迪拉克', '林肯', '吉普', '沃尔沃', '捷豹', '路虎',
    '现代', '起亚', '标致', '雪铁龙', '雷诺', '斯柯达', '斯巴鲁', '铃木', '三菱',
    '吉利', '长城', '长安', '奇瑞', '荣威', '名爵', '传祺', '哈弗', 'WEY', '领克',
    '五菱', '宝骏', '江淮', '海马', '奔腾', '红旗', '北汽', '东南', '启辰', '欧尚'
];

// 热门车型词典（简化版）
export const CAR_MODELS = {
    '特斯拉': ['Model 3', 'Model Y', 'Model S', 'Model X'],
    '比亚迪': ['汉', '唐', '宋', '秦', '元', '海豹', '海豚', '海鸥'],
    '蔚来': ['ES6', 'ES8', 'ET5', 'ET7', 'EC6'],
    '小鹏': ['P7', 'P5', 'G6', 'G9', 'X9'],
    '理想': ['L7', 'L8', 'L9', 'ONE'],
    '宝马': ['3系', '5系', 'X3', 'X5', 'X1'],
    '奔驰': ['C级', 'E级', 'GLC', 'GLA', 'A级'],
    '奥迪': ['A4L', 'A6L', 'Q5', 'Q3', 'A3'],
    '丰田': ['卡罗拉', '凯美瑞', 'RAV4', '汉兰达', '雷凌'],
    '本田': ['雅阁', '思域', 'CR-V', 'XR-V', '飞度']
};

// 地区词典
export const LOCATIONS = [
    '北京', '上海', '广州', '深圳', '杭州', '南京', '苏州', '成都', '武汉', '西安',
    '重庆', '天津', '青岛', '大连', '宁波', '厦门', '无锡', '佛山', '东莞', '长沙',
    '郑州', '济南', '沈阳', '哈尔滨', '石家庄', '太原', '合肥', '南昌', '昆明', '贵阳'
];

// 响应模板
export const RESPONSE_TEMPLATES = {
    [INTENTS.GREETING]: [
        '您好！我是您的二手车AI助手，很高兴为您服务。',
        '你好！有什么关于二手车的问题可以帮您解答？',
        '您好！我可以帮您估价、查车况、了解交易流程等，请问需要什么帮助？'
    ],
    [INTENTS.GOODBYE]: [
        '感谢您的咨询，祝您购车愉快！如有其他问题随时找我。',
        '不客气，希望我的回答对您有帮助，再见！',
        '好的，有需要随时联系，祝您生活愉快！'
    ],
    [INTENTS.UNKNOWN]: [
        '抱歉，我可能没有完全理解您的问题。您可以尝试问我：\n1. "特斯拉Model 3二手多少钱？"\n2. "怎么判断事故车？"\n3. "过户需要什么手续？"',
        '这个问题我还需要学习一下，您可以换个方式问，或者咨询具体的车价、车况、流程等问题。',
        '不好意思，我不太确定您想了解什么。我是二手车助手，可以帮您估价、查车况、了解交易流程。'
    ]
};

// 知识库FAQ
export const KNOWLEDGE_BASE = {
    '事故车': {
        question: '怎么判断事故车？',
        answer: `判断事故车可以从以下几个方面入手：

1. **外观检查**
   - 车漆颜色是否一致，有无色差
   - 车身线条是否流畅，缝隙是否均匀
   - 玻璃生产日期是否一致

2. **结构检查**
   - ABC柱是否有修复痕迹
   - 发动机舱、后备箱是否有变形
   - 底盘是否有焊接痕迹

3. **证件核查**
   - 查看维修保养记录
   - 保险公司出险记录
   - 第三方检测报告

建议：购买前务必进行专业检测，或选择有质保的平台。`
    },
    '泡水车': {
        question: '怎么识别泡水车？',
        answer: `识别泡水车的方法：

1. **内饰检查**
   - 座椅滑轨是否有锈蚀
   - 地毯下方是否有泥沙
   - 安全带根部是否有水渍

2. **电气系统**
   - 各电器设备是否正常工作
   - 线路是否有氧化痕迹
   - 保险丝盒是否有泥沙

3. **隐蔽部位**
   - 备胎槽是否有水渍
   - 发动机舱角落是否有泥沙
   - 排气管内部是否异常

[警告] 泡水车存在严重安全隐患，建议坚决避免购买。`
    },
    '调表车': {
        question: '怎么识别调表车？',
        answer: `识别调表车的方法：

1. **磨损程度对比**
   - 方向盘、踏板磨损与里程是否匹配
   - 座椅磨损程度
   - 轮胎磨损和更换记录

2. **数据查询**
   - 4S店保养记录
   - 保险公司理赔记录
   - 第三方检测平台

3. **专业判断**
   - 年均行驶里程是否合理（一般1-2万公里/年）
   - 车辆整体状况与里程的匹配度

[提示] 建议：结合多种方式综合判断，不要只看仪表盘数字。`
    },
    '过户流程': {
        question: '二手车过户需要什么手续？',
        answer: `二手车过户流程：

**一、准备材料**
1. 买卖双方身份证原件及复印件
2. 机动车登记证书（大绿本）
3. 机动车行驶证
4. 购车发票或过户票
5. 车辆购置税完税证明

**二、办理流程**
1. 签订买卖合同
2. 开具二手车交易发票
3. 到车管所验车
4. 提交材料办理过户
5. 选号上牌（如需）
6. 领取新行驶证和登记证书

**三、注意事项**
- 提前处理违章记录
- 确认车辆无抵押
- 检查保险是否需要变更
- 办理时间约1-2小时

[费用] 过户费约200-500元（各地不同）`
    },
    '贷款': {
        question: '支持分期付款/贷款吗？',
        answer: `支持。我们与多家金融机构合作，提供二手车贷款服务。

**贷款方案**
- 首付比例：30%-50%
- 贷款期限：1-3年
- 利率：根据信用评估确定

**申请条件**
- 年龄18-60周岁
- 有稳定收入来源
- 信用记录良好
- 提供身份证、驾驶证、收入证明

**办理流程**
1. 选择心仪车辆
2. 提交贷款申请
3. 金融机构审核
4. 签订贷款合同
5. 支付首付提车

[提示] 具体利率和额度以金融机构审批结果为准。`
    }
};

// 系统配置
export const CONFIG = {
    // 响应时间配置（毫秒）
    RESPONSE_DELAY: {
        MIN: 500,
        MAX: 1500
    },
    
    // 思考步骤延迟
    THINKING_STEP_DELAY: 300,
    
    // 消息历史限制
    MAX_HISTORY: 50,
    
    // 置信度阈值
    CONFIDENCE_THRESHOLD: {
        HIGH: 0.8,
        MEDIUM: 0.5
    },
    
    // 本地存储键名
    STORAGE_KEYS: {
        CHAT_HISTORY: 'ai_chatbot_history',
        SETTINGS: 'ai_chatbot_settings',
        MODE: 'ai_chatbot_mode'
    }
};

// 场景示例
export const SCENE_EXAMPLES = {
    valuation: {
        title: '车辆估价',
        icon: 'fa-calculator',
        description: '了解某款二手车的市场价格',
        examples: [
            '特斯拉Model 3二手多少钱？',
            '2022年的宝马3系值多少？',
            '帮我估一下比亚迪汉的价格'
        ]
    },
    condition: {
        title: '车况查询',
        icon: 'fa-search',
        description: '了解如何判断车辆状况',
        examples: [
            '怎么判断事故车？',
            '泡水车怎么识别？',
            '调表车有什么特征？'
        ]
    },
    process: {
        title: '交易流程',
        icon: 'fa-clipboard-list',
        description: '了解二手车交易流程',
        examples: [
            '过户需要什么手续？',
            '二手车可以贷款吗？',
            '买二手车要注意什么？'
        ]
    },
    compare: {
        title: '车型对比',
        icon: 'fa-balance-scale',
        description: '比较不同车型的优缺点',
        examples: [
            'Model 3和比亚迪汉哪个好？',
            '宝马3系和奔驰C级怎么选？',
            '10万左右推荐什么车？'
        ]
    },
    policy: {
        title: '政策解读',
        icon: 'fa-file-alt',
        description: '了解二手车相关政策',
        examples: [
            '新能源车有补贴吗？',
            '国五车还能过户吗？',
            '外地牌照有什么限制？'
        ]
    }
};

export default {
    INTENTS,
    INTENT_DESCRIPTIONS,
    INTENT_KEYWORDS,
    ENTITIES,
    CAR_BRANDS,
    CAR_MODELS,
    LOCATIONS,
    RESPONSE_TEMPLATES,
    KNOWLEDGE_BASE,
    CONFIG,
    SCENE_EXAMPLES
};
