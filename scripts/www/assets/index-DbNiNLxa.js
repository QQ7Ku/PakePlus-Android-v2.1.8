var oe=Object.defineProperty;var ce=(r,s,t)=>s in r?oe(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var V=(r,s,t)=>ce(r,typeof s!="symbol"?s+"":s,t);import{u as K,r as i,j as e,C as de,O as ge,a as ue,b as xe,H as ee,R as W,c as me}from"./three-zD1fqsvm.js";import{c as he,P as be,a as pe,X as L,T as fe,C as ye,U as je,b as M,d as H,A as z,e as F,I as G,f as Ne,S as ve,G as we,R as _e,g as Ce,h as Re,i as ke,j as Ee,M as Se,k as Oe,l as Pe}from"./vendor-CLDGpT1T.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();K.setDecoderPath("./draco/");console.log("Draco decoder path set to: ./draco/");const Te=r=>(s,t,l)=>{const n=l.subscribe;return l.subscribe=(c,o,u)=>{let x=c;if(o){const h=(u==null?void 0:u.equalityFn)||Object.is;let N=c(l.getState());x=_=>{const v=c(_);if(!h(N,v)){const f=N;o(N=v,f)}},u!=null&&u.fireImmediately&&o(N,N)}return n(x)},r(s,t,l)},De=Te,U={structure:[{id:"left_front_longitudinal",name:"å·¦å‰çºµæ¢",category:"structure"},{id:"right_front_longitudinal",name:"å³å‰çºµæ¢",category:"structure"},{id:"left_front_shock",name:"å·¦å‰æ‚¬æŒ‚å‡éœ‡å™¨",category:"structure"},{id:"right_front_shock",name:"å³å‰æ‚¬æŒ‚å‡éœ‡å™¨",category:"structure"},{id:"left_rear_shock",name:"å·¦åŽæ‚¬æŒ‚å‡éœ‡å™¨",category:"structure"},{id:"right_rear_shock",name:"å³åŽæ‚¬æŒ‚å‡éœ‡å™¨",category:"structure"}],paint:[{id:"left_a_pillar_paint",name:"å·¦AæŸ±æ¼†é¢",category:"paint",parent:"left_a_pillar"},{id:"left_a_pillar_weld",name:"å·¦AæŸ±ç„Šç‚¹èƒ¶æ¡",category:"paint",parent:"left_a_pillar"},{id:"right_a_pillar_paint",name:"å³AæŸ±æ¼†é¢",category:"paint",parent:"right_a_pillar"},{id:"right_a_pillar_weld",name:"å³AæŸ±ç„Šç‚¹èƒ¶æ¡",category:"paint",parent:"right_a_pillar"},{id:"left_b_pillar_paint",name:"å·¦BæŸ±æ¼†é¢",category:"paint",parent:"left_b_pillar"},{id:"left_b_pillar_weld",name:"å·¦BæŸ±ç„Šç‚¹èƒ¶æ¡",category:"paint",parent:"left_b_pillar"},{id:"right_b_pillar_paint",name:"å³BæŸ±æ¼†é¢",category:"paint",parent:"right_b_pillar"},{id:"right_b_pillar_weld",name:"å³BæŸ±ç„Šç‚¹èƒ¶æ¡",category:"paint",parent:"right_b_pillar"},{id:"left_c_pillar_paint",name:"å·¦CæŸ±æ¼†é¢",category:"paint",parent:"left_c_pillar"},{id:"left_c_pillar_weld",name:"å·¦CæŸ±ç„Šç‚¹èƒ¶æ¡",category:"paint",parent:"left_c_pillar"},{id:"right_c_pillar_paint",name:"å³CæŸ±æ¼†é¢",category:"paint",parent:"right_c_pillar"},{id:"right_c_pillar_weld",name:"å³CæŸ±ç„Šç‚¹èƒ¶æ¡",category:"paint",parent:"right_c_pillar"}]},d={UNCHECKED:"unchecked",NORMAL:"normal",WARNING:"warning",ERROR:"error"},X=new Set(Object.values(d)),Y=r=>{if(!r||typeof r!="object")return{};const s=["__proto__","constructor","prototype"];return Object.fromEntries(Object.entries(r).filter(([t])=>!s.includes(t)))},T=r=>!r||typeof r!="string"?!1:[...U.structure,...U.paint].some(t=>t.id===r),j=he(De((r,s)=>({currentType:"structure",selectedPoint:null,results:{},setCurrentType:t=>{if(!["structure","paint"].includes(t)){console.warn(`Invalid inspection type: ${t}`);return}r({currentType:t,selectedPoint:null})},selectPoint:t=>{if(t&&!T(t)){console.warn(`Invalid point ID: ${t}`);return}r({selectedPoint:t})},setResult:(t,l,n={})=>{if(!t){console.error("setResult: pointId is required");return}if(!T(t)){console.error(`setResult: Invalid point ID: ${t}`);return}if(!X.has(l)){console.error(`setResult: Invalid status: ${l}`);return}const a=Y(n);let c={...a};if(a.paintThickness!==void 0){const o=parseInt(a.paintThickness,10);isNaN(o)||o<0||o>3e3?(console.warn(`Invalid paint thickness: ${a.paintThickness}`),c.paintThickness=void 0):c.paintThickness=o}a.note&&(c.note=String(a.note).trim().slice(0,500)),a.images&&Array.isArray(a.images)&&(c.images=a.images.slice(0,5)),r(o=>({results:{...o.results,[t]:{status:l,timestamp:new Date().toISOString(),...c}}}))},addImage:(t,l)=>!t||!T(t)?(console.error(`addImage: Invalid point ID: ${t}`),!1):!l||typeof l!="string"?(console.error("addImage: Invalid image data"),!1):(r(n=>{const a=n.results[t]||{},c=a.images||[];return c.length>=5?(console.warn("Maximum 5 images allowed"),n):{results:{...n.results,[t]:{...a,images:[...c,l]}}}}),!0),removeImage:(t,l)=>!t||!T(t)?(console.error(`removeImage: Invalid point ID: ${t}`),!1):(r(n=>{const a=n.results[t];if(!a||!a.images)return n;const c=a.images.filter((o,u)=>u!==l);return{results:{...n.results,[t]:{...a,images:c}}}}),!0),getPointStatus:t=>{if(!t)return d.UNCHECKED;const l=s().results[t];return(l==null?void 0:l.status)||d.UNCHECKED},getStats:()=>{const{currentType:t,results:l}=s(),n=U[t];if(!n)return{total:0,checked:0,normal:0,warning:0,error:0,unchecked:0};const a={total:n.length,checked:0,normal:0,warning:0,error:0,unchecked:0};return n.forEach(c=>{var u;const o=((u=l[c.id])==null?void 0:u.status)||d.UNCHECKED;o!==d.UNCHECKED&&a.checked++,a[o]!==void 0&&a[o]++}),a},getPointResult:t=>t&&s().results[t]||null,resetResults:()=>r({results:{},selectedPoint:null}),exportData:()=>({timestamp:new Date().toISOString(),results:s().results,stats:s().getStats()}),importData:t=>{if(!t||typeof t!="object")return console.error("importData: Invalid data format"),!1;if(t.results&&typeof t.results=="object"){const l={};return Object.entries(t.results).forEach(([n,a])=>{T(n)&&X.has(a.status)&&(l[n]={status:a.status,timestamp:a.timestamp||new Date().toISOString(),...Y(a)})}),r({results:l}),!0}return!1}}))),I={UNCHECKED:"unchecked",WARNING:"warning",ERROR:"error"},Ie=[{id:"left_front_longitudinal",name:"å·¦å‰çºµæ¢",pos:[-1.5,.5,2]},{id:"right_front_longitudinal",name:"å³å‰çºµæ¢",pos:[1.5,.5,2]},{id:"left_front_shock",name:"å·¦å‰æ‚¬æŒ‚",pos:[-1.2,.3,1.5]},{id:"right_front_shock",name:"å³å‰æ‚¬æŒ‚",pos:[1.2,.3,1.5]},{id:"left_rear_shock",name:"å·¦åŽæ‚¬æŒ‚",pos:[-1.2,.3,-1.5]},{id:"right_rear_shock",name:"å³åŽæ‚¬æŒ‚",pos:[1.2,.3,-1.5]}],Ae=[{id:"left_a_pillar_paint",name:"å·¦AæŸ±æ¼†é¢",pos:[-.9,1.2,.8]},{id:"left_a_pillar_weld",name:"å·¦AæŸ±ç„Šç‚¹",pos:[-.85,1,.8]},{id:"right_a_pillar_paint",name:"å³AæŸ±æ¼†é¢",pos:[.9,1.2,.8]},{id:"right_a_pillar_weld",name:"å³AæŸ±ç„Šç‚¹",pos:[.85,1,.8]},{id:"left_b_pillar_paint",name:"å·¦BæŸ±æ¼†é¢",pos:[-.9,1.2,-.3]},{id:"left_b_pillar_weld",name:"å·¦BæŸ±ç„Šç‚¹",pos:[-.85,1,-.3]},{id:"right_b_pillar_paint",name:"å³BæŸ±æ¼†é¢",pos:[.9,1.2,-.3]},{id:"right_b_pillar_weld",name:"å³BæŸ±ç„Šç‚¹",pos:[.85,1,-.3]},{id:"left_c_pillar_paint",name:"å·¦CæŸ±æ¼†é¢",pos:[-.85,1.3,-1.2]},{id:"left_c_pillar_weld",name:"å·¦CæŸ±ç„Šç‚¹",pos:[-.8,1.1,-1.2]},{id:"right_c_pillar_paint",name:"å³CæŸ±æ¼†é¢",pos:[.85,1.3,-1.2]},{id:"right_c_pillar_weld",name:"å³CæŸ±ç„Šç‚¹",pos:[.8,1.1,-1.2]}];function $e(){const{progress:r}=xe();return e.jsx(ee,{center:!0,children:e.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-sm text-white p-5 rounded-xl text-center border border-gray-700 shadow-2xl max-w-[80vw]",children:[e.jsx("div",{className:"text-base font-bold mb-3",children:"åŠ è½½æ¨¡åž‹ä¸­..."}),e.jsx("div",{className:"w-48 h-2 bg-gray-800 rounded-full overflow-hidden mx-auto",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-400 transition-all duration-300",style:{width:`${r}%`}})}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[Math.round(r),"%"]})]})})}function Ue({name:r,status:s,onClick:t}){const l=s===I.ERROR,n=s===I.WARNING;return!l&&!n?null:e.jsx(ee,{distanceFactor:10,children:e.jsx("div",{onClick:a=>{a.stopPropagation(),t==null||t()},className:`
          px-2 py-1 rounded text-xs font-bold whitespace-nowrap cursor-pointer
          shadow-lg border border-white/20 select-none
          active:scale-95 transition-transform
          ${l?"bg-red-500 text-white":"bg-yellow-500 text-black"}
        `,style:{touchAction:"manipulation"},children:r})})}function Le({autoRotate:r,onPointClick:s}){const t=i.useRef(),l=j(o=>o.results),{scene:n}=K("/models/2019_volkswagen_jetta_draco.glb");ue((o,u)=>{t.current&&r&&(t.current.rotation.y+=u*.5)});const a=o=>{var u;return((u=l[o])==null?void 0:u.status)||I.UNCHECKED},c=[...Ie,...Ae];return e.jsxs("group",{ref:t,children:[e.jsx("primitive",{object:n,scale:1,position:[0,0,0]}),c.map(o=>{const u=a(o.id);return u===I.WARNING||u===I.ERROR?e.jsx("group",{position:o.pos,children:e.jsx(Ue,{name:o.name,status:u,onClick:()=>s==null?void 0:s(o.id)})},o.id):null})]})}function Me({autoRotate:r,onPointClick:s}){const t=i.useRef();return i.useEffect(()=>{const l="ontouchstart"in window||navigator.maxTouchPoints>0;t.current&&l&&(t.current.touchAction="none")},[]),e.jsxs(e.Fragment,{children:[e.jsx("ambientLight",{intensity:.6}),e.jsx("directionalLight",{position:[10,10,5],intensity:1}),e.jsx("directionalLight",{position:[-10,-10,-5],intensity:.5}),e.jsx(ge,{ref:t,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:3,maxDistance:15,enableDamping:!0,dampingFactor:.05}),e.jsx("gridHelper",{args:[20,20,"#333","#222"]}),e.jsx(i.Suspense,{fallback:e.jsx($e,{}),children:e.jsx(Le,{autoRotate:r,onPointClick:s})})]})}function A({color:r,label:s}){return e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:r}}),e.jsx("span",{className:"text-[10px] text-gray-400",children:s})]})}function He({onPointClick:r}){const[s,t]=i.useState(!1),l=j(c=>c.currentType),[n,a]=i.useState(!1);return i.useEffect(()=>{a("ontouchstart"in window||navigator.maxTouchPoints>0)},[]),e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx(de,{camera:{position:[5,5,5],fov:50},className:"w-full h-full block outline-none touch-none",gl:{antialias:!0,alpha:!1},children:e.jsx(Me,{autoRotate:s,onPointClick:r})}),e.jsx("button",{onClick:()=>t(!s),className:`
          absolute bottom-4 right-4 z-50 rounded-full 
          flex items-center justify-center
          transition-all duration-200 active:scale-95
          border shadow-lg
          ${n?"w-12 h-12":"w-10 h-10"}
          ${s?"bg-blue-600 border-blue-500":"bg-gray-800/90 border-gray-600"}
        `,style:{touchAction:"manipulation"},title:s?"åœæ­¢æ—‹è½¬":"å¼€å§‹æ—‹è½¬",children:s?e.jsx(be,{className:`${n?"w-5 h-5":"w-4 h-4"} text-white`}):e.jsx(pe,{className:`${n?"w-5 h-5":"w-4 h-4"} text-white ml-0.5`})}),e.jsx("div",{className:"absolute top-3 left-3 lg:top-4 lg:left-4 z-50 bg-gray-900/90 backdrop-blur-sm px-2.5 py-2 lg:px-3 lg:py-2 rounded-lg border border-gray-700 shadow-lg",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{color:"#22c55e",label:"æ­£å¸¸"}),e.jsx(A,{color:"#eab308",label:"å¼‚å¸¸"}),e.jsx(A,{color:"#ef4444",label:"ä¸¥é‡"}),e.jsx(A,{color:"#9ca3af",label:"æœªæ£€"})]})}),e.jsx("div",{className:"absolute top-3 right-3 lg:top-4 lg:right-4 z-50 bg-gray-900/90 backdrop-blur-sm px-2.5 py-1.5 lg:px-3 rounded-lg border border-gray-700 shadow-lg",children:e.jsx("span",{className:"text-[10px] lg:text-xs text-gray-400",children:l==="structure"?"è½¦èº«ç»“æž„æ£€æµ‹":"è½¦èº«æ¼†é¢æ£€æµ‹"})}),n&&e.jsx("div",{className:"absolute bottom-16 left-4 right-4 lg:hidden z-40 pointer-events-none",children:e.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm px-3 py-2 rounded-lg border border-gray-700 text-center",children:e.jsx("p",{className:"text-[10px] text-gray-400",children:"ðŸ‘† å•æŒ‡æ—‹è½¬ Â· ðŸ¤ åŒæŒ‡ç¼©æ”¾"})})})]})}K.preload("/models/2019_volkswagen_jetta_draco.glb");const ze=({images:r=[],onImagesChange:s,maxImages:t=5})=>{const[l,n]=i.useState(!1),[a,c]=i.useState(null),[o,u]=i.useState(null),x=i.useRef(null),h=i.useRef(null),N=i.useRef(null),_=(m,b=1280,C=.7)=>new Promise(g=>{const p=new Image;p.src=m,p.onload=()=>{const y=document.createElement("canvas");let S=p.width,O=p.height;S>b&&(O=Math.round(O*b/S),S=b),y.width=S,y.height=O,y.getContext("2d").drawImage(p,0,0,S,O),g(y.toDataURL("image/jpeg",C))}}),v=i.useCallback(async()=>{try{const m=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}},audio:!1});c(m),n(!0),x.current&&(x.current.srcObject=m)}catch(m){console.error("æ— æ³•è®¿é—®æ‘„åƒå¤´:",m),alert("æ— æ³•è®¿é—®æ‘„åƒå¤´ï¼Œè¯·ç¡®ä¿å·²æŽˆäºˆæƒé™æˆ–ä½¿ç”¨å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½")}},[]),f=i.useCallback(()=>{a&&(a.getTracks().forEach(m=>m.stop()),c(null)),n(!1)},[a]),R=i.useCallback(()=>{if(!x.current||!h.current)return;const m=x.current,b=h.current;b.width=m.videoWidth,b.height=m.videoHeight,b.getContext("2d").drawImage(m,0,0);const g=b.toDataURL("image/jpeg",.9);u(g)},[]),P=i.useCallback(async()=>{if(!o)return;if(r.length>=t){alert(`æœ€å¤šåªèƒ½ä¸Šä¼  ${t} å¼ å›¾ç‰‡`);return}const m=await _(o);s([...r,m]),u(null),f()},[o,r,t,s,f]),k=i.useCallback(()=>{u(null)},[]),w=i.useCallback(async m=>{const b=m.target.files;if(!b||b.length===0)return;const C=t-r.length;if(C<=0){alert(`æœ€å¤šåªèƒ½ä¸Šä¼  ${t} å¼ å›¾ç‰‡`);return}const g=Array.from(b).slice(0,C);for(const p of g){if(!p.type.startsWith("image/"))continue;const y=new FileReader;y.onload=async S=>{const O=S.target.result,q=await _(O);s(ie=>[...ie,q])},y.readAsDataURL(p)}N.current&&(N.current.value="")},[r.length,t,s]),E=i.useCallback(m=>{s(r.filter((b,C)=>C!==m))},[r,s]);return l?e.jsx("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",children:e.jsxs("div",{className:"flex-1 relative bg-black",children:[o?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-contain"}),e.jsxs("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center gap-4",children:[e.jsx("button",{onClick:k,className:"px-6 py-3 bg-gray-600 text-white rounded-lg font-medium",children:"é‡æ‹"}),e.jsx("button",{onClick:P,className:"px-6 py-3 bg-green-600 text-white rounded-lg font-medium",children:"ç¡®è®¤"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("video",{ref:x,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain"}),e.jsx("canvas",{ref:h,className:"hidden"}),e.jsx("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center",children:e.jsx("button",{onClick:R,className:"w-16 h-16 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center active:scale-95 transition-transform",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white border-2 border-gray-800"})})})]}),e.jsx("button",{onClick:f,className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full",children:e.jsx(L,{size:24})})]})}):e.jsxs("div",{className:"space-y-3",children:[r.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.map((m,b)=>e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border border-gray-700 group",children:[e.jsx("img",{src:m,alt:`æ£€æµ‹å›¾ç‰‡ ${b+1}`,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>E(b),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(fe,{size:14})})]},b))}),r.length<t&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:v,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:[e.jsx(ye,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"æ‹ç…§"})]}),e.jsxs("label",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors cursor-pointer",children:[e.jsx(je,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"ä¸Šä¼ "}),e.jsx("input",{ref:N,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:w})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["å·²ä¸Šä¼  ",r.length,"/",t," å¼ å›¾ç‰‡",r.length>=t&&" (å·²è¾¾ä¸Šé™)"]})]})},B={[d.NORMAL]:{bg:"bg-green-500",hover:"hover:bg-green-600",text:"text-green-400",bgOpacity:"bg-green-500/10",border:"border-green-500/30",ring:"ring-green-500/50"},[d.WARNING]:{bg:"bg-yellow-500",hover:"hover:bg-yellow-600",text:"text-yellow-400",bgOpacity:"bg-yellow-500/10",border:"border-yellow-500/30",ring:"ring-yellow-500/50"},[d.ERROR]:{bg:"bg-red-500",hover:"hover:bg-red-600",text:"text-red-400",bgOpacity:"bg-red-500/10",border:"border-red-500/30",ring:"ring-red-500/50"},[d.UNCHECKED]:{bg:"bg-gray-500",hover:"hover:bg-gray-600",text:"text-gray-400",bgOpacity:"bg-gray-500/10",border:"border-gray-500/30",ring:"ring-gray-500/50"}},te={[d.NORMAL]:"æ­£å¸¸",[d.WARNING]:"å¼‚å¸¸",[d.ERROR]:"ä¸¥é‡",[d.UNCHECKED]:"æœªæ£€"},se={[d.NORMAL]:F,[d.WARNING]:z,[d.ERROR]:H,[d.UNCHECKED]:M},D=i.memo(({status:r,active:s,onClick:t,label:l,icon:n})=>{const a=B[r];return e.jsxs("button",{onClick:t,className:`
        flex flex-col items-center justify-center p-2.5 rounded-lg
        transition-all duration-200 ease-out border
        ${s?`${a.bg} border-transparent text-white shadow-lg`:`${a.bgOpacity} ${a.border} ${a.text} hover:bg-opacity-20`}
        ${s?`ring-2 ${a.ring} ring-offset-2 ring-offset-gray-900`:""}
      `,children:[e.jsx(n,{className:"w-4 h-4 mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:l})]})});D.displayName="StatusButton";const re=i.memo(({point:r,status:s,isSelected:t,onClick:l,hasPaintData:n,result:a})=>{const c=se[s],o=B[s],u=(a==null?void 0:a.images)&&a.images.length>0;return e.jsxs("div",{onClick:l,className:`
        group flex items-center justify-between p-2.5 rounded-lg cursor-pointer
        transition-all duration-200 border
        ${t?"bg-blue-500/10 border-blue-500/50":"bg-gray-900/30 border-gray-800 hover:border-gray-700 hover:bg-gray-800/30"}
      `,children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(c,{className:`w-4 h-4 ${o.text}`}),e.jsxs("div",{children:[e.jsx("span",{className:`text-sm font-medium ${t?"text-blue-400":"text-gray-300"}`,children:r.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(a==null?void 0:a.paintThickness)&&e.jsxs("span",{className:"text-xs text-gray-500",children:[a.paintThickness,"Î¼m"]}),u&&e.jsxs("span",{className:"flex items-center gap-0.5 text-[10px] text-blue-400",children:[e.jsx(G,{className:"w-3 h-3"}),a.images.length]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`
          text-[10px] px-1.5 py-0.5 rounded border
          ${o.bgOpacity} ${o.text} ${o.border}
        `,children:te[s]}),e.jsx(Ne,{className:"w-4 h-4 text-gray-600 group-hover:text-gray-400 transition-colors"})]})]})});re.displayName="PointItem";const $=i.memo(({label:r,value:s,colorClass:t})=>e.jsxs("div",{className:"bg-gray-900/30 rounded-lg p-2.5 border border-gray-800",children:[e.jsx("p",{className:"text-[10px] text-gray-500 mb-0.5 uppercase tracking-wider",children:r}),e.jsx("p",{className:`text-lg font-bold ${t}`,children:s})]}));$.displayName="StatCard";const ae=i.memo(({images:r,onImageClick:s})=>!r||r.length===0?null:e.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.map((t,l)=>e.jsx("button",{onClick:()=>s==null?void 0:s(t,l),className:"relative aspect-square rounded-lg overflow-hidden border border-gray-700 hover:border-gray-500 transition-colors",children:e.jsx("img",{src:t,alt:`æ£€æµ‹å›¾ç‰‡ ${l+1}`,className:"w-full h-full object-cover"})},l))}));ae.displayName="ImagePreview";const ne=i.memo(({point:r,result:s,onEdit:t})=>{const l=se[(s==null?void 0:s.status)||d.UNCHECKED],n=B[(s==null?void 0:s.status)||d.UNCHECKED],[a,c]=i.useState(null),o=r.category==="paint",u=(s==null?void 0:s.images)&&s.images.length>0;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-200",children:r.name}),e.jsx("p",{className:"text-xs text-gray-500",children:o?"è½¦èº«æ¼†é¢æ£€æµ‹":"è½¦èº«ç»“æž„æ£€æµ‹"})]}),e.jsx("button",{onClick:t,className:"px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"ç¼–è¾‘"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2 uppercase tracking-wider",children:"æ£€æµ‹çŠ¶æ€"}),e.jsxs("div",{className:`
          flex items-center gap-3 p-3 rounded-lg border
          ${n.bgOpacity} ${n.border}
        `,children:[e.jsx(l,{className:`w-6 h-6 ${n.text}`}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${n.text}`,children:te[(s==null?void 0:s.status)||d.UNCHECKED]}),(s==null?void 0:s.timestamp)&&e.jsxs("p",{className:"text-xs text-gray-500",children:["æ£€æµ‹æ—¶é—´: ",new Date(s.timestamp).toLocaleString("zh-CN")]})]})]})]}),o&&(s==null?void 0:s.paintThickness)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5 uppercase tracking-wider",children:"æ¼†é¢åŽšåº¦"}),e.jsx("div",{className:"p-3 bg-gray-900 border border-gray-800 rounded-lg",children:e.jsxs("p",{className:"text-lg font-medium text-gray-200",children:[s.paintThickness," ",e.jsx("span",{className:"text-sm text-gray-500",children:"Î¼m"})]})})]}),u&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"w-3 h-3"}),"é—®é¢˜ç…§ç‰‡ (",s.images.length," å¼ )"]})}),e.jsx(ae,{images:s.images,onImageClick:(x,h)=>c({img:x,idx:h})})]}),(s==null?void 0:s.note)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5 uppercase tracking-wider",children:"å¤‡æ³¨è¯´æ˜Ž"}),e.jsx("div",{className:"p-3 bg-gray-900 border border-gray-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:s.note})})]}),a&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>c(null),children:[e.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full",children:e.jsx(L,{size:24})}),e.jsx("img",{src:a.img,alt:"æ”¾å¤§æŸ¥çœ‹",className:"max-w-full max-h-full object-contain rounded-lg",onClick:x=>x.stopPropagation()})]})]})});ne.displayName="ResultViewer";const le=i.memo(({point:r,result:s,onSave:t,onCancel:l})=>{const[n,a]=i.useState((s==null?void 0:s.status)||d.NORMAL),[c,o]=i.useState((s==null?void 0:s.paintThickness)||""),[u,x]=i.useState((s==null?void 0:s.note)||""),[h,N]=i.useState((s==null?void 0:s.images)||[]),[_,v]=i.useState(null),f=r.category==="paint",R=n===d.WARNING||n===d.ERROR,P=i.useCallback(()=>{if(f&&c!==""){const E=parseInt(c,10);if(isNaN(E)||E<0||E>3e3){v("æ¼†é¢åŽšåº¦å¿…é¡»åœ¨ 0-3000Î¼m ä¹‹é—´");return}}const w={status:n,note:u.trim()};f&&c!==""&&(w.paintThickness=parseInt(c,10)),R&&h.length>0&&(w.images=h),t(r.id,n,w)},[r.id,r.category,n,c,u,h,R,t,f]),k=i.useCallback(w=>{a(w),v(null)},[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-800",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-200",children:r.name}),e.jsx("p",{className:"text-xs text-gray-500",children:f?"è½¦èº«æ¼†é¢æ£€æµ‹":"è½¦èº«ç»“æž„æ£€æµ‹"})]}),e.jsx("button",{onClick:l,className:"p-1.5 hover:bg-gray-800 rounded-lg transition-colors border border-gray-800",children:e.jsx(L,{className:"w-4 h-4 text-gray-400"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2 uppercase tracking-wider",children:"æ£€æµ‹çŠ¶æ€"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsx(D,{status:d.NORMAL,active:n===d.NORMAL,onClick:()=>k(d.NORMAL),label:"æ­£å¸¸",icon:F}),e.jsx(D,{status:d.WARNING,active:n===d.WARNING,onClick:()=>k(d.WARNING),label:"å¼‚å¸¸",icon:z}),e.jsx(D,{status:d.ERROR,active:n===d.ERROR,onClick:()=>k(d.ERROR),label:"ä¸¥é‡",icon:H}),e.jsx(D,{status:d.UNCHECKED,active:n===d.UNCHECKED,onClick:()=>k(d.UNCHECKED),label:"æœªæ£€",icon:M})]})]}),f&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5 uppercase tracking-wider",children:"æ¼†é¢åŽšåº¦ (Î¼m)"}),e.jsx("input",{type:"number",min:"0",max:"3000",value:c,onChange:w=>{o(w.target.value),v(null)},placeholder:"è¯·è¾“å…¥æ¼†é¢åŽšåº¦",className:`w-full px-3 py-2 bg-gray-900 border border-gray-800 rounded-lg\r
              focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 \r
              outline-none transition-all text-sm text-gray-200 placeholder-gray-600`}),e.jsx("p",{className:"mt-1 text-[10px] text-gray-600",children:"æ­£å¸¸èŒƒå›´ï¼š80-150Î¼m"})]}),R&&e.jsxs("div",{className:"p-3 bg-gray-900/50 border border-gray-800 rounded-lg",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"w-3 h-3"}),"é—®é¢˜ç…§ç‰‡"]})}),e.jsx(ze,{images:h,onImagesChange:N,maxImages:5})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5 uppercase tracking-wider",children:"å¤‡æ³¨è¯´æ˜Ž"}),e.jsx("textarea",{value:u,onChange:w=>x(w.target.value),placeholder:"è¯·è¾“å…¥æ£€æµ‹å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰",maxLength:500,rows:3,className:`w-full px-3 py-2 bg-gray-900 border border-gray-800 rounded-lg\r
            focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 \r
            outline-none transition-all resize-none text-sm text-gray-200 placeholder-gray-600`}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("p",{className:"text-[10px] text-gray-600",children:"æœ€å¤š 500 å­—ç¬¦"}),e.jsxs("p",{className:`text-[10px] ${u.length>=500?"text-red-400":"text-gray-600"}`,children:[u.length,"/500"]})]})]}),_&&e.jsx("div",{className:"p-2.5 bg-red-500/10 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-xs text-red-400",children:_})}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-800",children:[e.jsxs("button",{onClick:P,className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 \r
            bg-blue-600 hover:bg-blue-500 text-white rounded-lg \r
            transition-all duration-200 text-sm font-medium`,children:[e.jsx(ve,{className:"w-4 h-4"}),"ä¿å­˜"]}),e.jsx("button",{onClick:l,className:`flex-1 px-3 py-2 bg-gray-800 hover:bg-gray-700 \r
            text-gray-300 rounded-lg transition-all duration-200 text-sm font-medium\r
            border border-gray-700`,children:"å–æ¶ˆ"})]})]})});le.displayName="ResultForm";const Z=({onClose:r})=>{const s=j(g=>g.currentType),t=j(g=>g.selectedPoint),l=j(g=>g.results),n=j(g=>g.setCurrentType),a=j(g=>g.selectPoint),c=j(g=>g.setResult),o=j(g=>g.resetResults),u=j(g=>g.getPointStatus),x=j(g=>g.getPointResult),h=j(g=>g.getStats()),[N,_]=i.useState(!1),v=i.useMemo(()=>U[s]||[],[s]),f=i.useMemo(()=>h.total===0?0:Math.round(h.checked/h.total*100),[h]),R=i.useCallback(g=>{n(g)},[n]),P=i.useCallback(g=>{a(g);const p=x(g);_(!p||p.status===d.UNCHECKED)},[a,x]),k=i.useCallback((g,p,y)=>{c(g,p,y),_(!1),r==null||r()},[c,r]),w=i.useCallback(()=>{a(null),_(!1)},[a]),E=i.useCallback(()=>{_(!0)},[]),m=i.useCallback(()=>{window.confirm("ç¡®å®šè¦é‡ç½®æ‰€æœ‰æ£€æµ‹ç»“æžœå—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚")&&o()},[o]),b=i.useMemo(()=>t?v.find(g=>g.id===t):null,[t,v]),C=i.useMemo(()=>t?x(t):null,[t,x]);return e.jsxs("div",{className:"h-full bg-gray-900 rounded-xl border border-gray-800 shadow-xl overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex-none bg-gray-900/50 backdrop-blur-sm p-3 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4 text-blue-400"}),e.jsx("h2",{className:"text-sm font-bold text-gray-200",children:"æ£€æµ‹é¢æ¿"})]}),e.jsxs("button",{onClick:m,className:`flex items-center gap-1 px-2 py-1 text-xs text-gray-500 \r
              hover:text-red-400 hover:bg-red-500/10 rounded transition-all`,title:"é‡ç½®æ‰€æœ‰æ£€æµ‹ç»“æžœ",children:[e.jsx(_e,{className:"w-3 h-3"}),"é‡ç½®"]})]}),e.jsxs("div",{className:"flex gap-1 p-1 bg-gray-950 rounded-lg border border-gray-800",children:[e.jsxs("button",{onClick:()=>R("structure"),className:`
              flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 rounded-md text-xs font-medium transition-all
              ${s==="structure"?"bg-gray-800 text-blue-400 shadow-sm":"text-gray-500 hover:text-gray-300"}
            `,children:[e.jsx(Ce,{className:"w-3.5 h-3.5"}),"è½¦èº«ç»“æž„"]}),e.jsxs("button",{onClick:()=>R("paint"),className:`
              flex-1 flex items-center justify-center gap-1.5 px-2 py-1.5 rounded-md text-xs font-medium transition-all
              ${s==="paint"?"bg-gray-800 text-blue-400 shadow-sm":"text-gray-500 hover:text-gray-300"}
            `,children:[e.jsx(Re,{className:"w-3.5 h-3.5"}),"è½¦èº«æ¼†é¢"]})]})]}),e.jsxs("div",{className:"flex-none p-3 grid grid-cols-3 gap-2 border-b border-gray-800",children:[e.jsx($,{label:"å·²æ£€æµ‹",value:h.checked,colorClass:"text-blue-400"}),e.jsx($,{label:"æ­£å¸¸",value:h.normal,colorClass:"text-green-400"}),e.jsx($,{label:"å¼‚å¸¸",value:h.warning+h.error,colorClass:"text-red-400"})]}),e.jsxs("div",{className:"flex-none px-3 py-2 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"æ£€æµ‹è¿›åº¦"}),e.jsxs("span",{className:"font-medium text-gray-300",children:[f,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:b?N?e.jsx(le,{point:b,result:C,onSave:k,onCancel:w}):e.jsx(ne,{point:b,result:C,onEdit:E}):e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("h3",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center justify-between",children:[e.jsx("span",{children:s==="structure"?"ç»“æž„æ£€æµ‹éƒ¨ä½":"æ¼†é¢æ£€æµ‹éƒ¨ä½"}),e.jsxs("span",{className:"text-gray-600",children:["(",v.length,")"]})]}),v.map(g=>{const p=u(g.id),y=l[g.id];return e.jsx(re,{point:g,status:p,isSelected:!1,onClick:()=>P(g.id),hasPaintData:!!(y!=null&&y.paintThickness),result:y},g.id)})]})})]})};class Fe extends W.Component{constructor(t){super(t);V(this,"handleRefresh",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,l){console.error("ErrorBoundary caught error:",t,l)}render(){var t;return this.state.hasError?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] bg-gray-900/50 rounded-xl p-8 text-center border border-gray-800",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 border border-red-500/20",children:e.jsx(ke,{className:"w-8 h-8 text-red-400"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-200 mb-2",children:"ç»„ä»¶åŠ è½½å‡ºé”™"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-xs",children:((t=this.state.error)==null?void 0:t.message)||"æœªçŸ¥é”™è¯¯"}),e.jsxs("button",{onClick:this.handleRefresh,className:`flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-500 \r
              text-white rounded-xl transition-all duration-200 font-medium\r
              shadow-lg shadow-blue-600/20`,children:[e.jsx(Ee,{className:"w-4 h-4"}),"åˆ·æ–°é¡µé¢"]})]}):this.props.children}}const J=()=>{const[r,s]=i.useState(!1),t=()=>{document.fullscreenElement?document.exitFullscreen().then(()=>{s(!1)}).catch(()=>{}):document.documentElement.requestFullscreen().then(()=>{s(!0)}).catch(()=>{})};return W.useEffect(()=>{const l=()=>{s(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",l),()=>document.removeEventListener("fullscreenchange",l)},[]),e.jsx("button",{onClick:t,className:"p-2 bg-gray-800/80 hover:bg-gray-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white border border-gray-700/50 active:scale-95",title:r?"é€€å‡ºå…¨å±":"å…¨å±æ˜¾ç¤º",children:r?e.jsx(Oe,{size:16}):e.jsx(Pe,{size:16})})},Ke=({compact:r=!1})=>{const s=i.useMemo(()=>[{status:d.NORMAL,icon:F,label:"æ­£å¸¸",color:"text-green-400",bgColor:"bg-green-400/10",borderColor:"border-green-400/20"},{status:d.WARNING,icon:z,label:"å¼‚å¸¸",color:"text-yellow-400",bgColor:"bg-yellow-400/10",borderColor:"border-yellow-400/20"},{status:d.ERROR,icon:H,label:"ä¸¥é‡",color:"text-red-400",bgColor:"bg-red-400/10",borderColor:"border-red-400/20"},{status:d.UNCHECKED,icon:M,label:"æœªæ£€",color:"text-gray-400",bgColor:"bg-gray-400/10",borderColor:"border-gray-400/20"}],[]);return r?e.jsx("div",{className:"flex items-center gap-1.5",children:s.map(t=>e.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-1 rounded ${t.bgColor} border ${t.borderColor}`,children:[e.jsx(t.icon,{size:10,className:t.color}),e.jsx("span",{className:"text-[10px] font-medium text-gray-300",children:t.label})]},t.status))}):e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:s.map(t=>e.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md ${t.bgColor} border ${t.borderColor}`,children:[e.jsx(t.icon,{size:12,className:t.color}),e.jsx("span",{className:"text-xs font-medium text-gray-300",children:t.label})]},t.status))})},Q=({compact:r=!1})=>{const s=j(a=>a.results),t=i.useMemo(()=>{const a=Object.values(s),c=a.filter(x=>x!==d.UNCHECKED).length,o=a.includes(d.ERROR),u=a.includes(d.WARNING);return o?{message:r?"æœ‰é—®é¢˜":"æ£€æµ‹åˆ°ä¸¥é‡é—®é¢˜",color:"text-red-400",bg:"bg-red-400/10",border:"border-red-400/20",icon:H}:u?{message:r?"æœ‰å¼‚å¸¸":"æ£€æµ‹åˆ°éƒ¨åˆ†å¼‚å¸¸",color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/20",icon:z}:c>0?{message:r?"æ­£å¸¸":"è½¦è¾†æ£€æµ‹æ­£å¸¸",color:"text-green-400",bg:"bg-green-400/10",border:"border-green-400/20",icon:F}:{message:"ç­‰å¾…æ£€æµ‹",color:"text-gray-400",bg:"bg-gray-400/10",border:"border-gray-400/20",icon:M}},[s,r]),l=i.useMemo(()=>Object.values(s).filter(a=>a!==d.UNCHECKED).length,[s]),n=i.useMemo(()=>Object.keys(s).length,[s]);return e.jsxs("div",{className:`flex items-center gap-2 rounded-lg ${t.bg} border ${t.border} ${r?"px-2 py-1":"px-3 py-1.5"}`,children:[e.jsx(t.icon,{size:r?12:14,className:t.color}),e.jsx("span",{className:`font-medium ${t.color} ${r?"text-xs":"text-sm"}`,children:t.message}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",l,"/",n,")"]})]})},We=({isOpen:r,onClose:s,children:t})=>r?e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),e.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-[85vw] max-w-[400px] bg-gray-900 border-l border-gray-800 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-200",children:"æ£€æµ‹é¢æ¿"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(L,{size:20,className:"text-gray-400"})})]}),e.jsx("div",{className:"p-4 h-[calc(100%-60px)] overflow-y-auto",children:t})]})]}):null,Ge=()=>{const r=j(l=>l.selectPoint),[s,t]=i.useState(!1);return e.jsxs("div",{className:"h-screen bg-gray-950 text-white flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"flex-none bg-gray-900/90 backdrop-blur-md border-b border-gray-800 px-3 py-2 lg:px-4 lg:py-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"è½¦è¾†æ£€æµ‹å¯è§†åŒ–ç³»ç»Ÿ"}),e.jsx("p",{className:"text-xs text-gray-500",children:"äºŒæ‰‹è½¦äº‹æ•…æ£€æµ‹ Â· è½¦èº«ç»“æž„ Â· æ¼†é¢æ£€æµ‹"})]}),e.jsx("div",{className:"h-8 w-px bg-gray-800"}),e.jsx(Q,{})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ke,{}),e.jsx(J,{})]})]}),e.jsxs("div",{className:"flex lg:hidden items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-base font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"è½¦è¾†æ£€æµ‹ç³»ç»Ÿ"}),e.jsx(Q,{compact:!0})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(Se,{size:14}),"æ£€æµ‹é¢æ¿"]}),e.jsx(J,{})]})]})]}),e.jsx("main",{className:"flex-1 p-2 lg:p-4 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col lg:grid lg:grid-cols-12 gap-2 lg:gap-4",children:[e.jsx("div",{className:"flex-1 lg:col-span-8 min-h-0",children:e.jsxs("div",{className:"h-full bg-gray-900 rounded-xl border border-gray-800 shadow-xl overflow-hidden flex flex-col",children:[e.jsx("div",{className:"flex-1 relative min-h-0",children:e.jsx(Fe,{children:e.jsx(He,{onPointClick:l=>{r(l),window.innerWidth<1024&&t(!0)}})})}),e.jsxs("div",{className:"flex-none px-3 py-2 lg:px-4 lg:py-2 bg-gray-950/80 border-t border-gray-800 flex items-center justify-center gap-3 lg:gap-6 text-[10px] lg:text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"hidden sm:inline",children:"ðŸ–±"}),e.jsx("span",{className:"sm:hidden",children:"ðŸ‘†"}),"æ‹–åŠ¨æ—‹è½¬"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"hidden sm:inline",children:"âš²"}),e.jsx("span",{className:"sm:hidden",children:"ðŸ¤"}),"ç¼©æ”¾"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"hidden sm:inline",children:"ðŸ‘†"}),e.jsx("span",{className:"sm:hidden",children:"ðŸ‘†"}),"ç‚¹å‡»æ ‡è®°"]})]})]})}),e.jsx("div",{className:"hidden lg:block lg:col-span-4 h-full min-h-0",children:e.jsx(Z,{})})]})}),e.jsx(We,{isOpen:s,onClose:()=>t(!1),children:e.jsx(Z,{onClose:()=>t(!1)})})]})};me.createRoot(document.getElementById("root")).render(e.jsx(W.StrictMode,{children:e.jsx(Ge,{})}));
