<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="二手车智能客服工作流展示 - AI思考过程可视化">
    <meta name="theme-color" content="#1e3a5f">
    
    <title>二手车AI智能客服系统 | 看得见的AI思考</title>
    
    <!-- CDN资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 本地样式 -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    
    <!-- Tailwind配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e3a5f',
                        secondary: '#3b82f6',
                        accent: '#10b981',
                        warning: '#f59e0b',
                        danger: '#ef4444'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-slate-50 min-h-screen">
    <!-- 顶部导航 -->
    <nav class="bg-primary text-white sticky top-0 z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-secondary rounded-lg flex items-center justify-center">
                        <i class="fas fa-robot text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">AI智能客服系统</h1>
                        <p class="text-xs text-slate-400">二手车交易 · 看得见的AI思考</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="demo.html" class="px-4 py-2 bg-secondary rounded-lg text-sm hover:bg-blue-600 transition">
                        <i class="fas fa-code mr-2"></i>技术展示
                    </a>
                    <a href="settings.html" class="px-4 py-2 bg-slate-700 rounded-lg text-sm hover:bg-slate-600 transition">
                        <i class="fas fa-cog mr-2"></i>设置
                    </a>
                    <div class="flex items-center space-x-2 bg-slate-700 rounded-lg p-1">
                        <button id="localModeBtn" class="px-3 py-1 rounded text-sm bg-accent text-white transition">
                            <i class="fas fa-laptop mr-1"></i>本地模式
                        </button>
                        <button id="cloudModeBtn" class="px-3 py-1 rounded text-sm text-slate-400 hover:text-white transition">
                            <i class="fas fa-cloud mr-1"></i>云端模式
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <div class="max-w-7xl mx-auto px-4 py-6">
        <!-- 场景选择标签 -->
        <div class="bg-white rounded-xl shadow-sm p-4 mb-6">
            <div class="flex flex-wrap items-center gap-3">
                <span class="text-slate-600 font-medium">快速体验场景：</span>
                <button class="scene-btn px-4 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm hover:bg-blue-200 transition" data-scene="valuation">
                    <i class="fas fa-calculator mr-2"></i>车辆估价
                </button>
                <button class="scene-btn px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200 transition" data-scene="condition">
                    <i class="fas fa-search mr-2"></i>车况查询
                </button>
                <button class="scene-btn px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200 transition" data-scene="process">
                    <i class="fas fa-clipboard-list mr-2"></i>交易流程
                </button>
                <button class="scene-btn px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200 transition" data-scene="compare">
                    <i class="fas fa-balance-scale mr-2"></i>车型对比
                </button>
                <button class="scene-btn px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200 transition" data-scene="policy">
                    <i class="fas fa-file-alt mr-2"></i>政策解读
                </button>
            </div>
        </div>

        <!-- 三栏布局 -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            <!-- 左侧：对话区域 -->
            <div class="lg:col-span-4">
                <div class="bg-white rounded-xl shadow-sm h-[calc(100vh-280px)] flex flex-col">
                    <div class="p-4 border-b">
                        <h3 class="font-bold text-slate-800">
                            <i class="fas fa-comments text-secondary mr-2"></i>对话区域
                        </h3>
                    </div>
                    
                    <!-- 消息列表 -->
                    <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-4">
                        <!-- 欢迎消息 -->
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-secondary rounded-full flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-robot text-white text-sm"></i>
                            </div>
                            <div class="bg-blue-50 rounded-lg p-3 max-w-[85%]">
                                <p class="text-sm text-slate-700">您好！我是您的二手车AI助手 🤖</p>
                                <p class="text-sm text-slate-700 mt-1">我可以帮您：</p>
                                <ul class="text-sm text-slate-600 mt-1 ml-4 list-disc">
                                    <li>评估车辆价格</li>
                                    <li>查询车况信息</li>
                                    <li>解答交易流程</li>
                                    <li>对比不同车型</li>
                                </ul>
                                <p class="text-sm text-slate-500 mt-2 text-xs">
                                    <i class="fas fa-cog mr-1"></i>输入"设置"可进入系统配置页面
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 输入区域 -->
                    <div class="p-4 border-t">
                        <div class="flex items-center space-x-2">
                            <input type="text" id="messageInput" 
                                class="flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary"
                                placeholder="输入您的问题..."
                                autocomplete="off">
                            <button id="sendBtn" class="px-4 py-2 bg-secondary text-white rounded-lg hover:bg-blue-600 transition">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between mt-2 text-xs text-slate-400">
                            <span>按 Enter 发送</span>
                            <button id="clearChat" class="hover:text-slate-600">
                                <i class="fas fa-trash-alt mr-1"></i>清空对话
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 中间：AI思考过程 -->
            <div class="lg:col-span-4">
                <div class="bg-white rounded-xl shadow-sm h-[calc(100vh-280px)] flex flex-col">
                    <div class="p-4 border-b flex items-center justify-between">
                        <h3 class="font-bold text-slate-800">
                            <i class="fas fa-brain text-purple-600 mr-2"></i>AI思考过程
                        </h3>
                        <span id="thinkingStatus" class="px-2 py-1 bg-slate-100 text-slate-500 text-xs rounded">等待输入</span>
                    </div>
                    
                    <!-- 思考步骤容器 -->
                    <div id="thinkingSteps" class="flex-1 overflow-y-auto p-4 space-y-3">
                        <div class="text-center text-slate-400 py-8">
                            <i class="fas fa-lightbulb text-4xl mb-3"></i>
                            <p class="text-sm">发送消息后，这里将展示AI的完整思考过程</p>
                        </div>
                    </div>
                    
                    <!-- 性能指标 -->
                    <div class="p-4 border-t bg-slate-50">
                        <div class="grid grid-cols-3 gap-2 text-center">
                            <div>
                                <p class="text-xs text-slate-500">响应时间</p>
                                <p id="responseTime" class="text-lg font-bold text-secondary">--</p>
                            </div>
                            <div>
                                <p class="text-xs text-slate-500">置信度</p>
                                <p id="confidence" class="text-lg font-bold text-accent">--</p>
                            </div>
                            <div>
                                <p class="text-xs text-slate-500">处理步骤</p>
                                <p id="stepCount" class="text-lg font-bold text-warning">--</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右侧：技术实现/工作流 -->
            <div class="lg:col-span-4">
                <div class="bg-white rounded-xl shadow-sm h-[calc(100vh-280px)] flex flex-col">
                    <div class="p-4 border-b">
                        <div class="flex items-center space-x-2">
                            <button id="showTechBtn" class="px-3 py-1 rounded text-sm bg-secondary text-white">技术实现</button>
                            <button id="showWorkflowBtn" class="px-3 py-1 rounded text-sm text-slate-600 hover:bg-slate-100">工作流</button>
                        </div>
                    </div>
                    
                    <!-- 技术实现面板 -->
                    <div id="techPanel" class="flex-1 overflow-y-auto p-4">
                        <div class="space-y-4">
                            <!-- 意图识别 -->
                            <div class="border rounded-lg p-3">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="font-medium text-sm">
                                        <i class="fas fa-bullseye text-red-500 mr-2"></i>意图识别
                                    </h4>
                                    <span class="text-xs text-slate-400">规则引擎</span>
                                </div>
                                <div class="bg-slate-50 rounded p-2 text-xs font-mono overflow-x-auto">
                                    <pre id="intentCode">// 等待输入...</pre>
                                </div>
                            </div>
                            
                            <!-- 实体提取 -->
                            <div class="border rounded-lg p-3">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="font-medium text-sm">
                                        <i class="fas fa-search text-blue-500 mr-2"></i>实体提取
                                    </h4>
                                    <span class="text-xs text-slate-400">正则+词典</span>
                                </div>
                                <div class="bg-slate-50 rounded p-2 text-xs font-mono overflow-x-auto">
                                    <pre id="entityCode">// 等待输入...</pre>
                                </div>
                            </div>
                            
                            <!-- 知识检索 -->
                            <div class="border rounded-lg p-3">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="font-medium text-sm">
                                        <i class="fas fa-database text-green-500 mr-2"></i>知识检索
                                    </h4>
                                    <span class="text-xs text-slate-400">向量匹配</span>
                                </div>
                                <div class="bg-slate-50 rounded p-2 text-xs font-mono overflow-x-auto">
                                    <pre id="knowledgeCode">// 等待输入...</pre>
                                </div>
                            </div>
                            
                            <!-- 响应生成 -->
                            <div class="border rounded-lg p-3">
                                <div class="flex items-center justify-between mb-2">
                                    <h4 class="font-medium text-sm">
                                        <i class="fas fa-comment-dots text-purple-500 mr-2"></i>响应生成
                                    </h4>
                                    <span class="text-xs text-slate-400">模板引擎</span>
                                </div>
                                <div class="bg-slate-50 rounded p-2 text-xs font-mono overflow-x-auto">
                                    <pre id="responseCode">// 等待输入...</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 工作流面板 -->
                    <div id="workflowPanel" class="flex-1 overflow-y-auto p-4 hidden">
                        <div id="workflowDiagram" class="space-y-3">
                            <!-- 工作流节点将通过JS动态生成 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="bg-white border-t mt-6">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between text-sm text-slate-500">
                <div>
                    <i class="fas fa-graduation-cap mr-2"></i>
                    个人参赛作品 · 二手车智能客服工作流展示系统
                </div>
                <div class="flex items-center space-x-4">
                    <span><i class="fas fa-code mr-1"></i>Vanilla JS</span>
                    <span><i class="fas fa-palette mr-1"></i>Tailwind CSS</span>
                    <span><i class="fas fa-robot mr-1"></i>AI驱动</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- 模块化主入口 -->
    <script type="module" src="js/main.js?v=2"></script>
</body>
</html>
