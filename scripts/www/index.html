<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="‰∏úÁõüÊñ∞ËÉΩÊ∫ê‰∫åÊâãËΩ¶AIÂàÜÊûêÂπ≥Âè∞ - Ë¶ÜÁõñ10ÂõΩÔºåÊô∫ËÉΩ‰º∞‰ª∑ÔºåÊîøÁ≠ñÂàÜÊûêÔºåÂ∏ÇÂú∫È¢ÑÊµã">
    <meta name="theme-color" content="#0d9488">
    
    <title>ASEAN NEV Insight | ‰∏úÁõüÊñ∞ËÉΩÊ∫ê‰∫åÊâãËΩ¶ÂàÜÊûêÂπ≥Âè∞</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/loading.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/search.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#14b8a6',
                        'primary-dark': '#0d9488',
                        secondary: '#64748b',
                        accent: '#f59e0b',
                        dark: '#0f172a',
                        'dark-light': '#1e293b'
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-slate-50 text-slate-800 min-h-screen">
    
    <!-- ============================================
         LOADING SCREEN - Shadow Bling Style
         ============================================ -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-brand">
                <i class="fas fa-bolt"></i>
                <span>ASEAN NEV</span>
            </div>
            <div class="loading-text">LOADING</div>
            <div class="loading-percentage">
                <span id="loadingPercent">000</span>%
            </div>
            <div class="loading-bar-container">
                <div class="loading-bar" id="loadingBar"></div>
            </div>
            <div class="loading-status" id="loadingStatus">ÂàùÂßãÂåñÁ≥ªÁªü...</div>
            <div class="loading-particles">
                <span></span><span></span><span></span>
                <span></span><span></span><span></span>
            </div>
        </div>
    </div>

    <!-- ============================================
         MAIN APPLICATION
         ============================================ -->
    <div id="app" class="app-container hidden">
        
        <!-- Navigation -->
        <nav class="nav-bar">
            <div class="nav-container">
                <div class="nav-logo" id="navLogo" style="cursor: pointer;" title="ËøîÂõû‰∏ªÈ°µ">
                    <i class="fas fa-bolt"></i>
                    <div class="nav-logo-text">
                        <span class="nav-logo-title">ASEAN NEV</span>
                        <span class="nav-logo-subtitle">‰∏úÁõüÊñ∞ËÉΩÊ∫ê‰∫åÊâãËΩ¶ÂàÜÊûêÂπ≥Âè∞</span>
                    </div>
                </div>
                
                <div class="nav-menu hidden md:flex">
                    <button class="nav-item active" data-tab="dashboard">
                        <i class="fas fa-chart-line"></i>
                        <span data-i18n="nav.dashboard">Êï∞ÊçÆÁúãÊùø</span>
                    </button>
                    <button class="nav-item" data-tab="search">
                        <i class="fas fa-search"></i>
                        <span data-i18n="nav.search">ËΩ¶ÂûãÊêúÁ¥¢</span>
                    </button>
                    <button class="nav-item" data-tab="valuation">
                        <i class="fas fa-calculator"></i>
                        <span data-i18n="nav.valuation">AI‰º∞‰ª∑</span>
                    </button>
                    <button class="nav-item" data-tab="prediction">
                        <i class="fas fa-magic"></i>
                        <span data-i18n="nav.prediction">Â∏ÇÂú∫È¢ÑÊµã</span>
                    </button>
                    <button class="nav-item" data-tab="policy">
                        <i class="fas fa-file-contract"></i>
                        <span data-i18n="nav.policy">ÊîøÁ≠ñÂàÜÊûê</span>
                    </button>
                </div>
                
                <div class="nav-controls">
                    <div class="control-dropdown" id="countryDropdown">
                        <button class="control-btn">
                            <span id="currentCountryFlag">üáπüá≠</span>
                            <span id="currentCountryName" class="hidden sm:inline">Ê≥∞ÂõΩ</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="dropdown-menu" id="countryMenu"></div>
                    </div>
                    
                    <div class="control-dropdown" id="currencyDropdown">
                        <button class="control-btn">
                            <span id="currentCurrency">‡∏ø</span>
                            <span id="currentCurrencyCode" class="hidden sm:inline">THB</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="dropdown-menu" id="currencyMenu"></div>
                    </div>
                    
                    <div class="control-dropdown" id="languageDropdown">
                        <button class="control-btn">
                            <i class="fas fa-globe"></i>
                            <span id="currentLanguage" class="hidden sm:inline">‰∏≠Êñá</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="dropdown-menu" id="languageMenu"></div>
                    </div>
                </div>
                
                <button class="md:hidden nav-mobile-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>

        <!-- Mobile Menu -->
        <div class="mobile-menu hidden" id="mobileMenu">
            <button class="mobile-nav-item active" data-tab="dashboard">
                <i class="fas fa-chart-line"></i>
                <span data-i18n="nav.dashboard">Êï∞ÊçÆÁúãÊùø</span>
            </button>
            <button class="mobile-nav-item" data-tab="search">
                <i class="fas fa-search"></i>
                <span data-i18n="nav.search">ËΩ¶ÂûãÊêúÁ¥¢</span>
            </button>
            <button class="mobile-nav-item" data-tab="valuation">
                <i class="fas fa-calculator"></i>
                <span data-i18n="nav.valuation">AI‰º∞‰ª∑</span>
            </button>
            <button class="mobile-nav-item" data-tab="prediction">
                <i class="fas fa-magic"></i>
                <span data-i18n="nav.prediction">Â∏ÇÂú∫È¢ÑÊµã</span>
            </button>
            <button class="mobile-nav-item" data-tab="policy">
                <i class="fas fa-file-contract"></i>
                <span data-i18n="nav.policy">ÊîøÁ≠ñÂàÜÊûê</span>
            </button>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- DASHBOARD TAB -->
            <div id="dashboardTab" class="tab-content active">
                <!-- Âø´ÈÄüÊêúÁ¥¢Ê†è -->
                <div class="dashboard-quick-search">
                    <div class="quick-search-card">
                        <div class="quick-search-content">
                            <i class="fas fa-search text-primary"></i>
                            <input type="text" id="quickSearchInput" data-i18n-placeholder="search.quickSearch" placeholder="Âø´ÈÄüÊêúÁ¥¢ËΩ¶ÂûãÔºàÂ¶ÇÔºöBYD Atto 3Ôºâ...">
                            <button class="btn-primary" id="quickSearchBtn">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                        <div class="quick-search-hints">
                            <span>ÁÉ≠Èó®ÊêúÁ¥¢Ôºö</span>
                            <a href="#" data-brand="byd" data-model="atto3">BYD Atto 3</a>
                            <a href="#" data-brand="byd" data-model="qin-plus">BYD Áß¶ Plus</a>
                            <a href="#" data-brand="byd" data-model="qin-2019">BYD Áß¶ 2019</a>
                            <a href="#" data-brand="byd" data-model="han">BYD Ê±â</a>
                            <a href="#" data-brand="tesla" data-model="model3">Tesla Model 3</a>
                            <a href="#" data-brand="mg" data-model="zsev">MG ZS EV</a>
                        </div>
                    </div>
                </div>

                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-icon bg-primary/10 text-primary">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="kpi-info">
                            <span class="kpi-label" data-i18n="kpi.avgPrice">Âπ≥ÂùáËΩ¶‰ª∑</span>
                            <span class="kpi-value" id="kpiAvgPrice">-</span>
                            <span class="kpi-change positive" id="kpiPriceChange">
                                <i class="fas fa-arrow-up"></i> 5.2%
                            </span>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon bg-blue-500/10 text-blue-500">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="kpi-info">
                            <span class="kpi-label" data-i18n="kpi.volume">ÊúàÊàê‰∫§Èáè</span>
                            <span class="kpi-value" id="kpiVolume">-</span>
                            <span class="kpi-change positive" id="kpiVolumeChange">
                                <i class="fas fa-arrow-up"></i> 12.8%
                            </span>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon bg-purple-500/10 text-purple-500">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="kpi-info">
                            <span class="kpi-label" data-i18n="kpi.evRatio">Êñ∞ËÉΩÊ∫êÂç†ÊØî</span>
                            <span class="kpi-value" id="kpiEvRatio">-</span>
                            <span class="kpi-change positive" id="kpiEvChange">
                                <i class="fas fa-arrow-up"></i> 3.5%
                            </span>
                        </div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-icon bg-orange-500/10 text-orange-500">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="kpi-info">
                            <span class="kpi-label" data-i18n="kpi.hotModel">ÁÉ≠Èó®ËΩ¶Âûã</span>
                            <span class="kpi-value text-lg" id="kpiHotModel">-</span>
                            <span class="kpi-change" data-i18n="kpi.thisMonth">Êú¨Êúà</span>
                        </div>
                    </div>
                </div>

                <div class="charts-row">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <i class="fas fa-chart-line text-primary"></i>
                                <span data-i18n="chart.priceTrend">‰ª∑Ê†ºË∂ãÂäø</span>
                            </h3>
                            <div class="chart-controls">
                                <button class="chart-period active" data-period="30d">30Â§©</button>
                                <button class="chart-period" data-period="90d">90Â§©</button>
                                <button class="chart-period" data-period="1y">1Âπ¥</button>
                            </div>
                        </div>
                        <div class="chart-body">
                            <div id="priceTrendChart" class="chart-container"></div>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <i class="fas fa-chart-pie text-primary"></i>
                                <span data-i18n="chart.brandShare">ÂìÅÁâå‰ªΩÈ¢ù</span>
                            </h3>
                        </div>
                        <div class="chart-body">
                            <div id="brandShareChart" class="chart-container"></div>
                        </div>
                    </div>
                </div>

                <div class="data-card">
                    <div class="data-header">
                        <h3 class="data-title">
                            <i class="fas fa-fire text-orange-500"></i>
                            <span data-i18n="table.hotModels">ÁÉ≠Èó®ËΩ¶ÂûãÊéíË°å</span>
                        </h3>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="hotModelsTable">
                            <thead>
                                <tr>
                                    <th data-i18n="table.rank">ÊéíÂêç</th>
                                    <th data-i18n="table.model">ËΩ¶Âûã</th>
                                    <th data-i18n="table.brand">ÂìÅÁâå</th>
                                    <th data-i18n="table.avgPrice">Âπ≥Âùá‰ª∑Ê†º</th>
                                    <th data-i18n="table.change">Ê∂®Ë∑å</th>
                                    <th data-i18n="table.volume">Êàê‰∫§Èáè</th>
                                </tr>
                            </thead>
                            <tbody id="hotModelsBody"></tbody>
                        </table>
                    </div>
                </div>

                <div class="charts-row">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <i class="fas fa-map-marked-alt text-primary"></i>
                                <span data-i18n="chart.aseanMap">‰∏úÁõü‰ª∑Ê†ºÂØπÊØî</span>
                            </h3>
                        </div>
                        <div class="chart-body">
                            <div id="aseanMapChart" class="chart-container"></div>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <i class="fas fa-robot text-primary"></i>
                                <span data-i18n="chart.aiInsight">AIÂ∏ÇÂú∫Ê¥ûÂØü</span>
                            </h3>
                        </div>
                        <div class="chart-body ai-insight-body">
                            <div id="aiInsightContent" class="ai-insight-content"></div>
                            <button class="btn-primary w-full mt-4" id="predictBtn">
                                <i class="fas fa-magic"></i>
                                <span data-i18n="btn.aiPredict">AIÈ¢ÑÊµã‰∏ãÊúàËµ∞Âäø</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEARCH TAB - ËΩ¶ÂûãÊêúÁ¥¢ -->
            <div id="searchTab" class="tab-content hidden">
                <!-- ÊêúÁ¥¢Âå∫Âüü -->
                <div class="search-container">
                    <div class="search-card">
                        <div class="search-header">
                            <h2 class="search-title">
                                <i class="fas fa-search text-primary"></i>
                                <span data-i18n="search.title">ËΩ¶ÂûãÂ∏ÇÂú∫ÊêúÁ¥¢</span>
                            </h2>
                            <p class="search-subtitle" data-i18n="search.subtitle">ÊêúÁ¥¢ÁâπÂÆöËΩ¶ÂûãÁöÑÂ∏ÇÂú∫ÈîÄÈáèÂíå‰ª∑Ê†ºÊï∞ÊçÆ</p>
                        </div>
                        
                        <form id="marketSearchForm" class="search-form">
                            <div class="search-filters">
                                <div class="search-filter-group">
                                    <label data-i18n="search.brand">ÂìÅÁâå</label>
                                    <select id="searchBrand" class="form-select" required>
                                        <option value="" data-i18n="search.selectBrand">ÈÄâÊã©ÂìÅÁâå</option>
                                    </select>
                                </div>
                                
                                <div class="search-filter-group">
                                    <label data-i18n="search.model">ËΩ¶Âûã</label>
                                    <select id="searchModel" class="form-select" disabled required>
                                        <option value="" data-i18n="search.selectModel">ÂÖàÈÄâÊã©ÂìÅÁâå</option>
                                    </select>
                                </div>
                                
                                <div class="search-filter-group">
                                    <label data-i18n="search.period">Êó∂Èó¥Âë®Êúü</label>
                                    <select id="searchPeriod" class="form-select">
                                        <option value="12m" selected data-i18n="search.period.12m">Ëøë12‰∏™Êúà</option>
                                        <option value="6m" data-i18n="search.period.6m">Ëøë6‰∏™Êúà</option>
                                        <option value="3m" data-i18n="search.period.3m">Ëøë3‰∏™Êúà</option>
                                    </select>
                                </div>
                                
                                <div class="search-filter-group">
                                    <label data-i18n="search.country">Âú∞Âå∫</label>
                                    <select id="searchCountry" class="form-select">
                                        <option value="all" data-i18n="search.allCountries">ÂÖ®ÈÉ®ÂõΩÂÆ∂</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn-primary btn-gradient search-btn" id="marketSearchBtn">
                                <i class="fas fa-search"></i>
                                <span data-i18n="search.searchBtn">ÊêúÁ¥¢Â∏ÇÂú∫Êï∞ÊçÆ</span>
                            </button>
                        </form>
                    </div>
                </div>

                <!-- ÊêúÁ¥¢ÁªìÊûú - Power BI È£éÊ†ºÂ±ïÁ§∫ -->
                <div id="searchResults" class="search-results hidden">
                    <!-- Ê±áÊÄªÁªüËÆ°Âç°Áâá -->
                    <div class="bi-stats-grid">
                        <div class="bi-stat-card">
                            <div class="bi-stat-icon bg-blue-500/10 text-blue-500">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="bi-stat-info">
                                <span class="bi-stat-label" data-i18n="search.totalVolume">ÊÄªÈîÄÈáè</span>
                                <span class="bi-stat-value" id="biTotalVolume">-</span>
                                <span class="bi-stat-change" id="biVolumeTrend">-</span>
                            </div>
                        </div>
                        <div class="bi-stat-card">
                            <div class="bi-stat-icon bg-green-500/10 text-green-500">
                                <i class="fas fa-tag"></i>
                            </div>
                            <div class="bi-stat-info">
                                <span class="bi-stat-label" data-i18n="search.avgPrice">Âπ≥Âùá‰ª∑Ê†º</span>
                                <span class="bi-stat-value" id="biAvgPrice">-</span>
                                <span class="bi-stat-change" id="biPriceTrend">-</span>
                            </div>
                        </div>
                        <div class="bi-stat-card">
                            <div class="bi-stat-icon bg-purple-500/10 text-purple-500">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="bi-stat-info">
                                <span class="bi-stat-label" data-i18n="search.priceRange">‰ª∑Ê†ºÂå∫Èó¥</span>
                                <span class="bi-stat-value" id="biPriceRange">-</span>
                                <span class="bi-stat-change" data-i18n="search.currentPeriod">ÂΩìÂâçÂë®Êúü</span>
                            </div>
                        </div>
                        <div class="bi-stat-card">
                            <div class="bi-stat-icon bg-orange-500/10 text-orange-500">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="bi-stat-info">
                                <span class="bi-stat-label" data-i18n="search.avgMonthly">ÊúàÂùáÈîÄÈáè</span>
                                <span class="bi-stat-value" id="biAvgMonthly">-</span>
                                <span class="bi-stat-change" id="biMonthlyTrend">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- ÂõæË°®Âå∫Âüü -->
                    <div class="bi-charts-row">
                        <div class="bi-chart-card">
                            <div class="bi-chart-header">
                                <h3 class="bi-chart-title">
                                    <i class="fas fa-chart-line text-primary"></i>
                                    <span data-i18n="search.volumeTrend">ÈîÄÈáèË∂ãÂäø</span>
                                </h3>
                            </div>
                            <div class="bi-chart-body">
                                <div id="searchVolumeChart" class="chart-container"></div>
                            </div>
                        </div>
                        <div class="bi-chart-card">
                            <div class="bi-chart-header">
                                <h3 class="bi-chart-title">
                                    <i class="fas fa-chart-area text-primary"></i>
                                    <span data-i18n="search.priceTrend">‰ª∑Ê†ºË∂ãÂäø</span>
                                </h3>
                            </div>
                            <div class="bi-chart-body">
                                <div id="searchPriceChart" class="chart-container"></div>
                            </div>
                        </div>
                    </div>

                    <!-- ËøëÊúüÂçïËΩ¶‰ª∑Ê†ºÂ±ïÁ§∫ -->
                    <div class="bi-recent-price-card">
                        <div class="bi-recent-header">
                            <div class="bi-recent-title">
                                <i class="fas fa-car text-primary"></i>
                                <span data-i18n="search.recentDeals">ËøëÊúüÂçïËΩ¶Êàê‰∫§‰ª∑</span>
                            </div>
                            <div class="bi-recent-tabs">
                                <button class="period-tab active" data-days="7" data-i18n="search.last7days">Ëøë7Â§©</button>
                                <button class="period-tab" data-days="30" data-i18n="search.last30days">Ëøë30Â§©</button>
                            </div>
                        </div>
                        <div class="bi-recent-content">
                            <div class="bi-recent-stats">
                                <div class="recent-stat-item">
                                    <span class="recent-stat-label" data-i18n="search.avgDealPrice">Âπ≥ÂùáÊàê‰∫§‰ª∑</span>
                                    <span class="recent-stat-value" id="recentAvgPrice">-</span>
                                    <span class="recent-stat-change" id="recentPriceChange">-</span>
                                </div>
                                <div class="recent-stat-item">
                                    <span class="recent-stat-label" data-i18n="search.dealCount">Êàê‰∫§Êï∞Èáè</span>
                                    <span class="recent-stat-value" id="recentVolume">-</span>
                                    <span class="recent-stat-unit">ËæÜ</span>
                                </div>
                                <div class="recent-stat-item">
                                    <span class="recent-stat-label" data-i18n="search.maxDealPrice">ÊúÄÈ´òÊàê‰∫§‰ª∑</span>
                                    <span class="recent-stat-value" id="recentMaxPrice">-</span>
                                </div>
                                <div class="recent-stat-item">
                                    <span class="recent-stat-label" data-i18n="search.minDealPrice">ÊúÄ‰ΩéÊàê‰∫§‰ª∑</span>
                                    <span class="recent-stat-value" id="recentMinPrice">-</span>
                                </div>
                            </div>
                            <div class="bi-recent-chart">
                                <div id="recentPriceChart" class="chart-container"></div>
                            </div>
                            <div class="bi-recent-list" id="recentDealsList">
                                <!-- ÊúÄËøëÊàê‰∫§ËÆ∞ÂΩï -->
                            </div>
                        </div>
                    </div>

                    <!-- AI Êô∫ËÉΩÂª∫ËÆÆ -->
                    <div class="bi-ai-suggestion-card">
                        <div class="bi-ai-header">
                            <div class="bi-ai-title">
                                <i class="fas fa-robot text-primary"></i>
                                <span>AI Êô∫ËÉΩÂª∫ËÆÆ</span>
                            </div>
                            <div class="bi-ai-actions">
                                <button class="btn-primary btn-sm" id="searchToValuationBtn">
                                    <i class="fas fa-calculator"></i>
                                    <span data-i18n="btn.calculateNow">Á´ãÂç≥‰º∞‰ª∑</span>
                                </button>
                                <button class="btn-secondary btn-sm" id="searchToPredictionBtn">
                                    <i class="fas fa-magic"></i>
                                    <span data-i18n="btn.viewPrediction">Êü•ÁúãÈ¢ÑÊµã</span>
                                </button>
                            </div>
                        </div>
                        <div class="bi-ai-content" id="searchAiContent">
                            <div class="bi-ai-item">
                                <i class="fas fa-lightbulb text-yellow-500"></i>
                                <div class="bi-ai-text">
                                    <strong>Â∏ÇÂú∫Âª∫ËÆÆ</strong>
                                    <p>ÂΩìÂâçÂ∏ÇÂú∫ÂØπËØ•ËΩ¶ÂûãÈúÄÊ±ÇÁ®≥ÂÆöÔºåÂª∫ËÆÆÂú®‰ª∑Ê†ºÂå∫Èó¥‰∏≠‰ΩçÊï∞Âá∫ÂîÆ„ÄÇ</p>
                                </div>
                            </div>
                            <div class="bi-ai-item">
                                <i class="fas fa-chart-line text-green-500"></i>
                                <div class="bi-ai-text">
                                    <strong>‰ª∑Ê†ºË∂ãÂäø</strong>
                                    <p>ËøáÂéª12‰∏™Êúà‰ª∑Ê†ºÂëà‰∏äÂçáË∂ãÂäøÔºåÈ¢ÑËÆ°Êú™Êù•3‰∏™ÊúàÂ∞ÜÁªßÁª≠‰∏äÊ∂®Á∫¶3-5%„ÄÇ</p>
                                </div>
                            </div>
                            <div class="bi-ai-item">
                                <i class="fas fa-handshake text-blue-500"></i>
                                <div class="bi-ai-text">
                                    <strong>‰∫§ÊòìÂª∫ËÆÆ</strong>
                                    <p>ÊúÄ‰Ω≥Âá∫ÂîÆÊó∂Êú∫ÔºöÂΩìÂâçÔºõÈ¢ÑËÆ°Êàê‰∫§Âë®ÊúüÔºö15-20Â§©„ÄÇ</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ‰ª∑Ê†ºÂàÜÂ∏É -->
                    <div class="bi-distribution-card">
                        <div class="bi-chart-header">
                            <h3 class="bi-chart-title">
                                <i class="fas fa-chart-pie text-primary"></i>
                                <span data-i18n="search.priceDistribution">‰ª∑Ê†ºÂàÜÂ∏É</span>
                            </h3>
                        </div>
                        <div class="bi-chart-body">
                            <div id="searchPriceDistChart" class="chart-container"></div>
                        </div>
                    </div>

                    <!-- ËØ¶ÁªÜÊï∞ÊçÆË°®Ê†º -->
                    <div class="bi-table-card">
                        <div class="bi-table-header">
                            <h3 class="bi-table-title">
                                <i class="fas fa-table text-primary"></i>
                                <span data-i18n="search.detailData">ËØ¶ÁªÜÊï∞ÊçÆ</span>
                            </h3>
                            <button class="btn-text" id="exportSearchBtn">
                                <i class="fas fa-download"></i>
                                <span data-i18n="search.export">ÂØºÂá∫Êï∞ÊçÆ</span>
                            </button>
                        </div>
                        <div class="bi-table-container">
                            <table class="bi-data-table" id="searchDataTable">
                                <thead>
                                    <tr>
                                        <th data-i18n="table.month">Êúà‰ªΩ</th>
                                        <th data-i18n="table.volume">ÈîÄÈáè</th>
                                        <th data-i18n="table.avgPrice">Âπ≥Âùá‰ª∑Ê†º</th>
                                        <th data-i18n="table.maxPrice">ÊúÄÈ´ò‰ª∑</th>
                                        <th data-i18n="table.minPrice">ÊúÄ‰Ωé‰ª∑</th>
                                        <th data-i18n="table.change">ÁéØÊØîÂèòÂåñ</th>
                                        <th data-i18n="table.totalValue">ÊÄª‰∫§ÊòìÈ¢ù</th>
                                    </tr>
                                </thead>
                                <tbody id="searchTableBody">
                                    <!-- Âä®ÊÄÅÁîüÊàê -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VALUATION TAB -->
            <div id="valuationTab" class="tab-content hidden">
                <div class="valuation-container">
                    <div class="valuation-form-card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <i class="fas fa-calculator text-primary"></i>
                                <span data-i18n="valuation.title">AIÊô∫ËÉΩ‰º∞‰ª∑</span>
                            </h2>
                        </div>
                        
                        <form id="valuationForm" class="valuation-form">
                            <div class="form-step active" data-step="1">
                                <div class="step-indicator">
                                    <div class="step-dot active">1</div>
                                    <div class="step-line"></div>
                                    <div class="step-dot">2</div>
                                    <div class="step-line"></div>
                                    <div class="step-dot">3</div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label data-i18n="form.brand">ÂìÅÁâå</label>
                                        <select id="valBrand" class="form-select" required>
                                            <option value="" data-i18n="form.selectBrand">ÈÄâÊã©ÂìÅÁâå</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="form.model">ËΩ¶Âûã</label>
                                        <select id="valModel" class="form-select" disabled required>
                                            <option value="" data-i18n="form.selectModel">ÂÖàÈÄâÊã©ÂìÅÁâå</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <button type="button" class="btn-primary w-full" id="step1Next">
                                    <span data-i18n="btn.next">‰∏ã‰∏ÄÊ≠•</span>
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                            
                            <div class="form-step" data-step="2">
                                <div class="step-indicator">
                                    <div class="step-dot completed"><i class="fas fa-check"></i></div>
                                    <div class="step-line completed"></div>
                                    <div class="step-dot active">2</div>
                                    <div class="step-line"></div>
                                    <div class="step-dot">3</div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label data-i18n="form.year">Âπ¥‰ªΩ</label>
                                        <select id="valYear" class="form-select" required>
                                            <option value="" data-i18n="form.selectYear">ÈÄâÊã©Âπ¥‰ªΩ</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="form.mileage">ÈáåÁ®ã (‰∏áÂÖ¨Èáå)</label>
                                        <input type="number" id="valMileage" class="form-input" 
                                               min="0" max="50" step="0.1" data-i18n-placeholder="form.placeholder.mileage" placeholder="‰æãÂ¶Ç: 3.5" required>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label data-i18n="form.batteryHealth">ÁîµÊ±†ÂÅ•Â∫∑Â∫¶</label>
                                        <select id="valBattery" class="form-select" required>
                                            <option value="90" data-i18n="form.battery.excellent">‰ºòÁßÄ (90%+)</option>
                                            <option value="80" selected data-i18n="form.battery.good">ËâØÂ•Ω (80-90%)</option>
                                            <option value="70" data-i18n="form.battery.average">‰∏ÄËà¨ (70-80%)</option>
                                            <option value="60" data-i18n="form.battery.poor">ËæÉÂ∑Æ (60-70%)</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label data-i18n="form.country">ÊâÄÂú®ÂõΩÂÆ∂</label>
                                        <select id="valCountry" class="form-select" required></select>
                                    </div>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="button" class="btn-secondary" id="step2Prev">
                                        <i class="fas fa-arrow-left"></i>
                                        <span data-i18n="btn.prev">‰∏ä‰∏ÄÊ≠•</span>
                                    </button>
                                    <button type="button" class="btn-primary" id="step2Next">
                                        <span data-i18n="btn.next">‰∏ã‰∏ÄÊ≠•</span>
                                        <i class="fas fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="form-step" data-step="3">
                                <div class="step-indicator">
                                    <div class="step-dot completed"><i class="fas fa-check"></i></div>
                                    <div class="step-line completed"></div>
                                    <div class="step-dot completed"><i class="fas fa-check"></i></div>
                                    <div class="step-line completed"></div>
                                    <div class="step-dot active">3</div>
                                </div>
                                
                                <div class="form-group">
                                    <label data-i18n="form.condition">ËΩ¶ÂÜµ</label>
                                    <div class="condition-options">
                                        <label class="condition-option">
                                            <input type="radio" name="condition" value="excellent">
                                            <span class="condition-card">
                                                <i class="fas fa-star"></i>
                                                <span class="condition-title" data-i18n="condition.excellent">‰ºòÁßÄ</span>
                                                <span class="condition-desc" data-i18n="condition.excellentDesc">Êó†‰∫ãÊïÖÔºå‰øùÂÖªÊûÅ‰Ω≥</span>
                                            </span>
                                        </label>
                                        <label class="condition-option">
                                            <input type="radio" name="condition" value="good" checked>
                                            <span class="condition-card">
                                                <i class="fas fa-thumbs-up"></i>
                                                <span class="condition-title" data-i18n="condition.good">ËâØÂ•Ω</span>
                                                <span class="condition-desc" data-i18n="condition.goodDesc">ËΩªÂæÆÁ£®ÊçüÔºåÊ≠£Â∏∏‰øùÂÖª</span>
                                            </span>
                                        </label>
                                        <label class="condition-option">
                                            <input type="radio" name="condition" value="average">
                                            <span class="condition-card">
                                                <i class="fas fa-minus-circle"></i>
                                                <span class="condition-title" data-i18n="condition.average">‰∏ÄËà¨</span>
                                                <span class="condition-desc" data-i18n="condition.averageDesc">Ê≠£Â∏∏‰ΩøÁî®ÁóïËøπ</span>
                                            </span>
                                        </label>
                                        <label class="condition-option">
                                            <input type="radio" name="condition" value="poor">
                                            <span class="condition-card">
                                                <i class="fas fa-exclamation-triangle"></i>
                                                <span class="condition-title" data-i18n="condition.poor">ËæÉÂ∑Æ</span>
                                                <span class="condition-desc" data-i18n="condition.poorDesc">ÈúÄË¶ÅÁª¥‰øÆ</span>
                                            </span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="button" class="btn-secondary" id="step3Prev">
                                        <i class="fas fa-arrow-left"></i>
                                        <span data-i18n="btn.prev">‰∏ä‰∏ÄÊ≠•</span>
                                    </button>
                                    <button type="submit" class="btn-primary btn-gradient" id="calculateBtn">
                                        <i class="fas fa-calculator"></i>
                                        <span data-i18n="btn.calculate">Á´ãÂç≥‰º∞‰ª∑</span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    <div id="valuationResult" class="valuation-result-card hidden">
                        <div class="result-header">
                            <h2 class="result-title">
                                <i class="fas fa-check-circle text-green-500"></i>
                                <span data-i18n="result.title">‰º∞‰ª∑ÁªìÊûú</span>
                            </h2>
                            <span class="result-confidence" id="resultConfidence" data-i18n-confidence="88">ÂèØ‰ø°Â∫¶ 88%</span>
                        </div>
                        
                        <div class="result-main">
                            <div class="result-price-section">
                                <span class="result-label" data-i18n="result.estimatedPrice">AIÂª∫ËÆÆÂîÆ‰ª∑</span>
                                <span class="result-price" id="resultPrice">-</span>
                                <span class="result-range" id="resultRange">-</span>
                            </div>
                            <div class="result-factors" id="resultFactors"></div>
                        </div>
                        
                        <div class="result-analysis">
                            <h4 data-i18n="result.aiAnalysis">AIÂàÜÊûê</h4>
                            <p id="resultAnalysisText">-</p>
                        </div>
                        
                        <div class="result-actions">
                            <button class="btn-secondary" id="newValuationBtn">
                                <i class="fas fa-redo"></i>
                                <span data-i18n="btn.newValuation">ÈáçÊñ∞‰º∞‰ª∑</span>
                            </button>
                            <button class="btn-primary" id="saveResultBtn">
                                <i class="fas fa-save"></i>
                                <span data-i18n="btn.save">‰øùÂ≠òÁªìÊûú</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PREDICTION TAB -->
            <div id="predictionTab" class="tab-content hidden">
                <div class="prediction-container">
                    <div class="prediction-header">
                        <h2 class="section-title">
                            <i class="fas fa-magic text-primary"></i>
                            <span data-i18n="prediction.title">AIÂ∏ÇÂú∫È¢ÑÊµã</span>
                        </h2>
                    </div>
                    
                    <div class="prediction-grid">
                        <div class="prediction-card">
                            <div class="prediction-model-select">
                                <label data-i18n="prediction.selectModel">ÈÄâÊã©ËΩ¶Âûã</label>
                                <select id="predictModelSelect" class="form-select">
                                    <option value="" data-i18n="prediction.selectModelDesc">ÈÄâÊã©Ë¶ÅÈ¢ÑÊµãÁöÑËΩ¶Âûã</option>
                                </select>
                            </div>
                            
                            <div class="prediction-period">
                                <label data-i18n="prediction.period">È¢ÑÊµãÂë®Êúü</label>
                                <div class="period-options">
                                    <button class="period-btn active" data-months="1" data-i18n="prediction.1month">1‰∏™Êúà</button>
                                    <button class="period-btn" data-months="3" data-i18n="prediction.3months">3‰∏™Êúà</button>
                                    <button class="period-btn" data-months="6" data-i18n="prediction.6months">6‰∏™Êúà</button>
                                    <button class="period-btn" data-months="12" data-i18n="prediction.1year">1Âπ¥</button>
                                </div>
                            </div>
                            
                            <button class="btn-primary btn-gradient w-full" id="runPredictionBtn">
                                <i class="fas fa-microchip"></i>
                                <span data-i18n="prediction.run">ËøêË°åAIÈ¢ÑÊµã</span>
                            </button>
                        </div>
                        
                        <div id="predictionResult" class="prediction-result hidden">
                            <div class="prediction-chart-container">
                                <div id="predictionChart" class="chart-container"></div>
                            </div>
                            <div class="prediction-summary" id="predictionSummary"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- POLICY TAB -->
            <div id="policyTab" class="tab-content hidden">
                <div class="policy-container">
                    <div class="policy-header">
                        <h2 class="section-title">
                            <i class="fas fa-file-contract text-primary"></i>
                            <span data-i18n="policy.title">Êñ∞ËÉΩÊ∫êÊîøÁ≠ñÂàÜÊûê</span>
                        </h2>
                    </div>
                    
                    <div class="policy-grid" id="policyGrid"></div>
                </div>
            </div>

        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-brand">
                    <i class="fas fa-bolt"></i>
                    <span>ASEAN NEV Insight</span>
                </div>
                <p class="footer-text" data-i18n="footer.text">Êï∞ÊçÆ‰ªÖ‰æõÂèÇËÄÉÔºåÂÆûÈôÖ‰∫§Êòì‰ª∑Ê†º‰ª•Â∏ÇÂú∫‰∏∫ÂáÜ</p>
                <p class="footer-copyright">¬© 2024 ASEAN NEV Insight. All rights reserved.</p>
            </div>
        </footer>

        <!-- Toast Container -->
        <div id="toastContainer" class="toast-container"></div>
        
        <!-- Offline Indicator -->
        <div id="offlineIndicator" class="offline-indicator hidden">
            <i class="fas fa-wifi-slash"></i>
            <span data-i18n="offline.message">Â∑≤ÂàáÊç¢Âà∞Á¶ªÁ∫øÊ®°Âºè</span>
        </div>
    </div>

    <!-- AIÈ¢ÑÊµãÂºπÁ™ó -->
    <div id="aiPredictModal" class="ai-modal hidden">
        <div class="ai-modal-overlay"></div>
        <div class="ai-modal-content">
            <div class="ai-modal-header">
                <h3 class="ai-modal-title">
                    <i class="fas fa-magic text-primary"></i>
                    <span>AIÂ∏ÇÂú∫Ëµ∞ÂäøÈ¢ÑÊµã</span>
                </h3>
                <button class="ai-modal-close" id="aiModalClose" title="ÂÖ≥Èó≠">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="ai-modal-body">
                <div id="aiPredictLoading" class="ai-predict-loading">
                    <div class="ai-loading-spinner"></div>
                    <p>AIÊ≠£Âú®ÂàÜÊûêÂ∏ÇÂú∫Êï∞ÊçÆ...</p>
                </div>
                <div id="aiPredictResult" class="ai-predict-result hidden">
                    <!-- È¢ÑÊµãÁªìÊûúÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ‰º∞‰ª∑ÂºπÁ™ó -->
    <div id="valuationModal" class="ai-modal hidden">
        <div class="ai-modal-overlay"></div>
        <div class="ai-modal-content">
            <div class="ai-modal-header">
                <h3 class="ai-modal-title">
                    <i class="fas fa-calculator text-primary"></i>
                    <span>AIÊô∫ËÉΩ‰º∞‰ª∑</span>
                </h3>
                <button class="ai-modal-close" id="valuationModalClose" title="ÂÖ≥Èó≠">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="ai-modal-body">
                <div id="valuationModalLoading" class="ai-predict-loading">
                    <div class="ai-loading-spinner"></div>
                    <p>AIÊ≠£Âú®ÂàÜÊûêËΩ¶ÂûãÊï∞ÊçÆ...</p>
                </div>
                <div id="valuationModalResult" class="ai-predict-result hidden">
                    <!-- ‰º∞‰ª∑ÁªìÊûúÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/main.js"></script>
    
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => {
                        // Service Worker Ê≥®ÂÜåÊàêÂäü
                        if (location.hostname === 'localhost') {
                            // Service Worker Ê≥®ÂÜåÊàêÂäü
                        }
                    })
                    .catch(err => {
                        // Service Worker Ê≥®ÂÜåÂ§±Ë¥•ÔºåÈùôÈªòÂ§ÑÁêÜ
                    });
            });
        }
    </script>
</body>
</html>
